(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function m1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Yd={exports:{}},Nl={};var mv;function p1(){if(mv)return Nl;mv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Nl.Fragment=t,Nl.jsx=n,Nl.jsxs=n,Nl}var pv;function g1(){return pv||(pv=1,Yd.exports=p1()),Yd.exports}var N=g1(),Xd={exports:{}},St={};var gv;function y1(){if(gv)return St;gv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function st(M,$,it){this.props=M,this.context=$,this.refs=Z,this.updater=it||F}st.prototype.isReactComponent={},st.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},st.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ot(){}ot.prototype=st.prototype;function tt(M,$,it){this.props=M,this.context=$,this.refs=Z,this.updater=it||F}var ut=tt.prototype=new ot;ut.constructor=tt,W(ut,st.prototype),ut.isPureReactComponent=!0;var _t=Array.isArray;function Tt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(M,$,it){var lt=it.ref;return{$$typeof:s,type:M,key:$,ref:lt!==void 0?lt:null,props:it}}function x(M,$){return R(M.type,$,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return $[it]})}var I=/\/+/g;function Wt(M,$){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):$.toString(36)}function fe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Tt,Tt):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,$,it,lt,Et){var It=typeof M;(It==="undefined"||It==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(It){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case s:case t:Lt=!0;break;case T:return Lt=M._init,Q(Lt(M._payload),$,it,lt,Et)}}if(Lt)return Et=Et(M),Lt=lt===""?"."+Wt(M,0):lt,_t(Et)?(it="",Lt!=null&&(it=Lt.replace(I,"$&/")+"/"),Q(Et,$,it,"",function(pr){return pr})):Et!=null&&(O(Et)&&(Et=x(Et,it+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(I,"$&/")+"/")+Lt)),$.push(Et)),1;Lt=0;var Ve=lt===""?".":lt+":";if(_t(M))for(var re=0;re<M.length;re++)lt=M[re],It=Ve+Wt(lt,re),Lt+=Q(lt,$,it,It,Et);else if(re=P(M),typeof re=="function")for(M=re.call(M),re=0;!(lt=M.next()).done;)lt=lt.value,It=Ve+Wt(lt,re++),Lt+=Q(lt,$,it,It,Et);else if(It==="object"){if(typeof M.then=="function")return Q(fe(M),$,it,lt,Et);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function nt(M,$,it){if(M==null)return M;var lt=[],Et=0;return Q(M,lt,"","",function(It){return $.call(it,It,Et++)}),lt}function mt(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:nt,forEach:function(M,$,it){nt(M,function(){$.apply(this,arguments)},it)},count:function(M){var $=0;return nt(M,function(){$++}),$},toArray:function(M){return nt(M,function($){return $})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return St.Activity=S,St.Children=Gt,St.Component=st,St.Fragment=n,St.Profiler=l,St.PureComponent=tt,St.StrictMode=r,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,St.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},St.cache=function(M){return function(){return M.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(M,$,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=W({},M.props),Et=M.key;if($!=null)for(It in $.key!==void 0&&(Et=""+$.key),$)!b.call($,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&$.ref===void 0||(lt[It]=$[It]);var It=arguments.length-2;if(It===1)lt.children=it;else if(1<It){for(var Lt=Array(It),Ve=0;Ve<It;Ve++)Lt[Ve]=arguments[Ve+2];lt.children=Lt}return R(M.type,Et,lt)},St.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},St.createElement=function(M,$,it){var lt,Et={},It=null;if($!=null)for(lt in $.key!==void 0&&(It=""+$.key),$)b.call($,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Et[lt]=$[lt]);var Lt=arguments.length-2;if(Lt===1)Et.children=it;else if(1<Lt){for(var Ve=Array(Lt),re=0;re<Lt;re++)Ve[re]=arguments[re+2];Et.children=Ve}if(M&&M.defaultProps)for(lt in Lt=M.defaultProps,Lt)Et[lt]===void 0&&(Et[lt]=Lt[lt]);return R(M,It,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(M){return{$$typeof:p,render:M}},St.isValidElement=O,St.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:mt}},St.memo=function(M,$){return{$$typeof:y,type:M,compare:$===void 0?null:$}},St.startTransition=function(M){var $=D.T,it={};D.T=it;try{var lt=M(),Et=D.S;Et!==null&&Et(it,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Tt,zt)}catch(It){zt(It)}finally{$!==null&&it.types!==null&&($.types=it.types),D.T=$}},St.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},St.use=function(M){return D.H.use(M)},St.useActionState=function(M,$,it){return D.H.useActionState(M,$,it)},St.useCallback=function(M,$){return D.H.useCallback(M,$)},St.useContext=function(M){return D.H.useContext(M)},St.useDebugValue=function(){},St.useDeferredValue=function(M,$){return D.H.useDeferredValue(M,$)},St.useEffect=function(M,$){return D.H.useEffect(M,$)},St.useEffectEvent=function(M){return D.H.useEffectEvent(M)},St.useId=function(){return D.H.useId()},St.useImperativeHandle=function(M,$,it){return D.H.useImperativeHandle(M,$,it)},St.useInsertionEffect=function(M,$){return D.H.useInsertionEffect(M,$)},St.useLayoutEffect=function(M,$){return D.H.useLayoutEffect(M,$)},St.useMemo=function(M,$){return D.H.useMemo(M,$)},St.useOptimistic=function(M,$){return D.H.useOptimistic(M,$)},St.useReducer=function(M,$,it){return D.H.useReducer(M,$,it)},St.useRef=function(M){return D.H.useRef(M)},St.useState=function(M){return D.H.useState(M)},St.useSyncExternalStore=function(M,$,it){return D.H.useSyncExternalStore(M,$,it)},St.useTransition=function(){return D.H.useTransition()},St.version="19.2.0",St}var yv;function Fm(){return yv||(yv=1,Xd.exports=y1()),Xd.exports}var pt=Fm();const Yr=m1(pt);var $d={exports:{}},Dl={},Zd={exports:{}},Jd={};var _v;function _1(){return _v||(_v=1,(function(s){function t(Q,nt){var mt=Q.length;Q.push(nt);t:for(;0<mt;){var zt=mt-1>>>1,Gt=Q[zt];if(0<l(Gt,nt))Q[zt]=nt,Q[mt]=Gt,mt=zt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var nt=Q[0],mt=Q.pop();if(mt!==nt){Q[0]=mt;t:for(var zt=0,Gt=Q.length,M=Gt>>>1;zt<M;){var $=2*(zt+1)-1,it=Q[$],lt=$+1,Et=Q[lt];if(0>l(it,mt))lt<Gt&&0>l(Et,it)?(Q[zt]=Et,Q[lt]=mt,zt=lt):(Q[zt]=it,Q[$]=mt,zt=$);else if(lt<Gt&&0>l(Et,mt))Q[zt]=Et,Q[lt]=mt,zt=lt;else break t}}return nt}function l(Q,nt){var mt=Q.sortIndex-nt.sortIndex;return mt!==0?mt:Q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,S=null,w=3,P=!1,F=!1,W=!1,Z=!1,st=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function ut(Q){for(var nt=n(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=Q)r(y),nt.sortIndex=nt.expirationTime,t(g,nt);else break;nt=n(y)}}function _t(Q){if(W=!1,ut(Q),!F)if(n(g)!==null)F=!0,Tt||(Tt=!0,k());else{var nt=n(y);nt!==null&&fe(_t,nt.startTime-Q)}}var Tt=!1,D=-1,b=5,R=-1;function x(){return Z?!0:!(s.unstable_now()-R<b)}function O(){if(Z=!1,Tt){var Q=s.unstable_now();R=Q;var nt=!0;try{t:{F=!1,W&&(W=!1,ot(D),D=-1),P=!0;var mt=w;try{e:{for(ut(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&x());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,w=S.priorityLevel;var Gt=zt(S.expirationTime<=Q);if(Q=s.unstable_now(),typeof Gt=="function"){S.callback=Gt,ut(Q),nt=!0;break e}S===n(g)&&r(g),ut(Q)}else r(g);S=n(g)}if(S!==null)nt=!0;else{var M=n(y);M!==null&&fe(_t,M.startTime-Q),nt=!1}}break t}finally{S=null,w=mt,P=!1}nt=void 0}}finally{nt?k():Tt=!1}}}var k;if(typeof tt=="function")k=function(){tt(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Wt=I.port2;I.port1.onmessage=O,k=function(){Wt.postMessage(null)}}else k=function(){st(O,0)};function fe(Q,nt){D=st(function(){Q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var nt=3;break;default:nt=w}var mt=w;w=nt;try{return Q()}finally{w=mt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var mt=w;w=Q;try{return nt()}finally{w=mt}},s.unstable_scheduleCallback=function(Q,nt,mt){var zt=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,Q){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,Q={id:T++,callback:nt,priorityLevel:Q,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>zt?(Q.sortIndex=mt,t(y,Q),n(g)===null&&Q===n(y)&&(W?(ot(D),D=-1):W=!0,fe(_t,mt-zt))):(Q.sortIndex=Gt,t(g,Q),F||P||(F=!0,Tt||(Tt=!0,k()))),Q},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(Q){var nt=w;return function(){var mt=w;w=nt;try{return Q.apply(this,arguments)}finally{w=mt}}}})(Jd)),Jd}var vv;function v1(){return vv||(vv=1,Zd.exports=_1()),Zd.exports}var Wd={exports:{}},Xe={};var Ev;function E1(){if(Ev)return Xe;Ev=1;var s=Fm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},Xe.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},Xe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Xe.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Xe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Xe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Xe.requestFormReset=function(g){r.d.r(g)},Xe.unstable_batchedUpdates=function(g,y){return g(y)},Xe.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var Tv;function T1(){if(Tv)return Wd.exports;Tv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Wd.exports=E1(),Wd.exports}var Av;function A1(){if(Av)return Dl;Av=1;var s=v1(),t=Fm(),n=T1();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),ot=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case st:return"Profiler";case Z:return"StrictMode";case _t:return"Suspense";case Tt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case tt:return e.displayName||"Context";case ot:return(e._context.displayName||"Context")+".Consumer";case ut:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:Wt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Wt(e(i))}catch{}}return null}var fe=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function M(e){return{current:e}}function $(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function it(e,i){Gt++,zt[Gt]=e.current,e.current=i}var lt=M(null),Et=M(null),It=M(null),Lt=M(null);function Ve(e,i){switch(it(It,i),it(Et,e),it(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?L_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=L_(i),e=P_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(lt),it(lt,e)}function re(){$(lt),$(Et),$(It)}function pr(e){e.memoizedState!==null&&it(Lt,e);var i=lt.current,a=P_(i,e.type);i!==a&&(it(Et,e),it(lt,a))}function la(e){Et.current===e&&($(lt),$(Et)),Lt.current===e&&($(Lt),wl._currentValue=mt)}var ua,ca;function si(e){if(ua===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ua=i&&i[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+e+ca}var wo=!1;function gr(e,i){if(!e||wo)return"";wo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var C=_.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{wo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function Ro(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return gr(e.type,!1);case 11:return gr(e.type.render,!1);case 1:return gr(e.type,!0);case 31:return si("Activity");default:return""}}function Io(e){try{var i="",a=null;do i+=Ro(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,Me=s.unstable_scheduleCallback,ds=s.unstable_cancelCallback,Xh=s.unstable_shouldYield,lu=s.unstable_requestPaint,tn=s.unstable_now,yr=s.unstable_getCurrentPriorityLevel,Co=s.unstable_ImmediatePriority,No=s.unstable_UserBlockingPriority,ms=s.unstable_NormalPriority,$h=s.unstable_LowPriority,uu=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,qn=null,je=null;function Rn(e){if(typeof cu=="function"&&hu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var de=Math.clz32?Math.clz32:du,fu=Math.log,ha=Math.LN2;function du(e){return e>>>=0,e===0?32:31-(fu(e)/ha|0)|0}var ri=256,_r=262144,Te=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(_&=E,_!==0?h=ai(_):a||(a=E&~e,a!==0&&(h=ai(a))))):(E=o&~f,E!==0?h=ai(E):_!==0?h=ai(_):a||(a=o&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function vr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jh(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-de(a),X=1<<G;E[G]=0,C[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&Er(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function Er(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-de(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Do(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-de(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Oo(e,i){var a=i&-i;return a=(a&42)!==0?1:Tr(a),(a&(e.suspendedLanes|i))!==0?0:a}function Tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:ov(e.type))}function Fn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Gn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Gn,ke="__reactProps$"+Gn,ui="__reactContainer$"+Gn,fa="__reactEvents$"+Gn,Wh="__reactListeners$"+Gn,gu="__reactHandles$"+Gn,yu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function da(e){delete e[Ae],delete e[ke],delete e[fa],delete e[Wh],delete e[gu]}function hi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=G_(e);e!==null;){if(a=e[Ae])return a;e=G_(e)}return i}e=a,a=e.parentNode}return null}function In(e){if(e=e[Ae]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function fi(e){var i=e[yu];return i||(i=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[ci]=!0}var Vo=new Set,Mo={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Mo[e]=i,e=0;e<i.length;e++)Vo.add(i[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},ko={};function _u(e){return Ee.call(ko,e)?!0:Ee.call(Uo,e)?!1:xo.test(e)?ko[e]=!0:(Uo[e]=!0,!1)}function ma(e,i,a){if(_u(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function be(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ps(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=ps(e)?"checked":"value";e._valueTracker=Lo(e,i,""+e[i])}}function Ar(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=ps(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sr=/[\n"\\]/g;function sn(e){return e.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pa(e,i,a,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Po(e,_,Le(i)):a!=null?Po(e,_,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function vu(e,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Po(e,i,a){i==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gs(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Eu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function ys(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(fe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Tu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function jo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&zo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&zo(e,f,i[f])}function ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return _s.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Bo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,gi=null;function br(e){var i=In(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(pa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(r(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&Ar(o)}break t;case"textarea":Eu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&gs(e,!!a.multiple,i,!1)}}}var _a=!1;function Es(e,i,a){if(_a)return e(i,a);_a=!0;try{var o=e(i);return o}finally{if(_a=!1,(vs!==null||gi!==null)&&(pc(),vs&&(i=vs,e=gi,gi=vs=null,br(i),e)))for(i=0;i<e.length;i++)br(e[i])}}function Kn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(Nn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{wr=!1}var yi=null,qo=null,Rr=null;function Ho(){if(Rr)return Rr;var e,i=qo,a=i.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Rr=h.slice(e,1<o?1-o:void 0)}function Ir(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Yn(){return!1}function Be(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Yn,this.isPropagationStopped=Yn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Be(ji),Ts=S({},ji,{view:0,detail:0}),Fo=Be(Ts),As,va,vi,Ea=S({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(As=e.screenX-vi.screenX,va=e.screenY-vi.screenY):va=As=0,vi=e),As)},movementY:function(e){return"movementY"in e?e.movementY:va}}),Go=Be(Ea),Cr=S({},Ea,{dataTransfer:0}),Su=Be(Cr),bu=S({},Ts,{relatedTarget:0}),Nr=Be(bu),Qo=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Be(Qo),Ta=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ru=Be(Ta),Iu=S({},ji,{data:0}),Ei=Be(Iu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Du[e])?!!i[e]:!1}function Ss(){return Ou}var en=S({},Ts,{key:function(e){if(e.key){var i=Cu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=Be(en),Mu=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Be(Mu),c=S({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),m=Be(c),v=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),L=S({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),et=S({},ji,{newState:0,oldState:0}),wt=Be(et),me=[9,13,27,32],qt=Nn&&"CompositionEvent"in window,ae=null;Nn&&"documentMode"in document&&(ae=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ae,Ti=Nn&&(!qt||ae&&8<ae&&11>=ae),Xn=" ",$n=!1;function Dr(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function PA(e,i){switch(e){case"compositionend":return Aa(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function zA(e,i){if(Sa)return e==="compositionend"||!qt&&Dr(e,i)?(e=Ho(),Rr=qo=yi=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!jA[e.type]:i==="textarea"}function Xp(e,i,a,o){vs?gi?gi.push(o):gi=[o]:vs=o,i=Ac(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ko=null,Yo=null;function BA(e){O_(e,0)}function xu(e){var i=pn(e);if(Ar(i))return e}function $p(e,i){if(e==="change")return i}var Zp=!1;if(Nn){var tf;if(Nn){var ef="oninput"in document;if(!ef){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),ef=typeof Jp.oninput=="function"}tf=ef}else tf=!1;Zp=tf&&(!document.documentMode||9<document.documentMode)}function Wp(){Ko&&(Ko.detachEvent("onpropertychange",tg),Yo=Ko=null)}function tg(e){if(e.propertyName==="value"&&xu(Yo)){var i=[];Xp(i,Yo,e,Cn(e)),Es(BA,i)}}function qA(e,i,a){e==="focusin"?(Wp(),Ko=i,Yo=a,Ko.attachEvent("onpropertychange",tg)):e==="focusout"&&Wp()}function HA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(Yo)}function FA(e,i){if(e==="click")return xu(i)}function GA(e,i){if(e==="input"||e==="change")return xu(i)}function QA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var yn=typeof Object.is=="function"?Object.is:QA;function Xo(e,i){if(yn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ee.call(i,h)||!yn(e[h],i[h]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,i){var a=eg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=eg(a)}}function ig(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ig(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=pi(e.document)}return i}function nf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var KA=Nn&&"documentMode"in document&&11>=document.documentMode,ba=null,sf=null,$o=null,rf=!1;function rg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||ba==null||ba!==pi(o)||(o=ba,"selectionStart"in o&&nf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$o&&Xo($o,o)||($o=o,o=Ac(sf,"onSelect"),0<o.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ba)))}function Or(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var wa={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},af={},ag={};Nn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Vr(e){if(af[e])return af[e];if(!wa[e])return e;var i=wa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ag)return af[e]=i[a];return e}var og=Vr("animationend"),lg=Vr("animationiteration"),ug=Vr("animationstart"),YA=Vr("transitionrun"),XA=Vr("transitionstart"),$A=Vr("transitioncancel"),cg=Vr("transitionend"),hg=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function Zn(e,i){hg.set(e,i),di(i,[e])}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],Ra=0,lf=0;function ku(){for(var e=Ra,i=lf=Ra=0;i<e;){var a=On[i];On[i++]=null;var o=On[i];On[i++]=null;var h=On[i];On[i++]=null;var f=On[i];if(On[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&fg(a,h,f)}}function Lu(e,i,a,o){On[Ra++]=e,On[Ra++]=i,On[Ra++]=a,On[Ra++]=o,lf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function uf(e,i,a,o){return Lu(e,i,a,o),Pu(e)}function Mr(e,i){return Lu(e,null,null,i),Pu(e)}function fg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-de(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Pu(e){if(50<_l)throw _l=0,_d=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ia={};function ZA(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,i,a,o){return new ZA(e,i,a,o)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var a=e.alternate;return a===null?(a=_n(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function dg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function zu(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")cf(e)&&(_=1);else if(typeof e=="string")_=n1(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=_n(31,a,i,h),e.elementType=R,e.lanes=f,e;case W:return xr(a.children,h,f,i);case Z:_=8,h|=24;break;case st:return e=_n(12,a,i,h|2),e.elementType=st,e.lanes=f,e;case _t:return e=_n(13,a,i,h),e.elementType=_t,e.lanes=f,e;case Tt:return e=_n(19,a,i,h),e.elementType=Tt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:_=10;break t;case ot:_=9;break t;case ut:_=11;break t;case D:_=14;break t;case b:_=16,o=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=_n(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function xr(e,i,a,o){return e=_n(7,e,o,i),e.lanes=a,e}function hf(e,i,a){return e=_n(6,e,null,i),e.lanes=a,e}function mg(e){var i=_n(18,null,null,0);return i.stateNode=e,i}function ff(e,i,a){return i=_n(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var pg=new WeakMap;function Vn(e,i){if(typeof e=="object"&&e!==null){var a=pg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Io(i)},pg.set(e,i),i)}return{value:e,source:i,stack:Io(i)}}var Ca=[],Na=0,ju=null,Zo=0,Mn=[],xn=0,bs=null,Ai=1,Si="";function Hi(e,i){Ca[Na++]=Zo,Ca[Na++]=ju,ju=e,Zo=i}function gg(e,i,a){Mn[xn++]=Ai,Mn[xn++]=Si,Mn[xn++]=bs,bs=e;var o=Ai;e=Si;var h=32-de(o)-1;o&=~(1<<h),a+=1;var f=32-de(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ai=1<<32-de(i)+h|a<<h|o,Si=f+e}else Ai=1<<f|a<<h|o,Si=e}function df(e){e.return!==null&&(Hi(e,1),gg(e,1,0))}function mf(e){for(;e===ju;)ju=Ca[--Na],Ca[Na]=null,Zo=Ca[--Na],Ca[Na]=null;for(;e===bs;)bs=Mn[--xn],Mn[xn]=null,Si=Mn[--xn],Mn[xn]=null,Ai=Mn[--xn],Mn[xn]=null}function yg(e,i){Mn[xn++]=Ai,Mn[xn++]=Si,Mn[xn++]=bs,Ai=i.id,Si=i.overflow,bs=e}var qe=null,ne=null,kt=!1,ws=null,Un=!1,pf=Error(r(519));function Rs(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Vn(i,e)),pf}function _g(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ae]=e,i[ke]=o,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)Dt(El[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),vu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),ys(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||U_(i.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),o.onScroll!=null&&Dt("scroll",i),o.onScrollEnd!=null&&Dt("scrollend",i),o.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Rs(e,!0)}function vg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qe=qe.return}}function Da(e){if(e!==qe)return!1;if(!kt)return vg(e),kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&ne&&Rs(e),vg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=F_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=F_(e)}else i===27?(i=ne,js(e.type)?(e=Pd,Pd=null,ne=e):ne=i):ne=qe?Ln(e.stateNode.nextSibling):null;return!0}function Ur(){ne=qe=null,kt=!1}function gf(){var e=ws;return e!==null&&(un===null?un=e:un.push.apply(un,e),ws=null),e}function Jo(e){ws===null?ws=[e]:ws.push(e)}var yf=M(null),kr=null,Fi=null;function Is(e,i,a){it(yf,i._currentValue),i._currentValue=a}function Gi(e){e._currentValue=yf.current,$(yf)}function _f(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function vf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),_f(f.return,a,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),_f(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Oa(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;yn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}h=h.return}e!==null&&vf(i,e,a,o),i.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lr(e){kr=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Eg(kr,e)}function qu(e,i){return kr===null&&Lr(e),Eg(e,i)}function Eg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(e===null)throw Error(r(308));Fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Fi=Fi.next=i;return a}var JA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},WA=s.unstable_scheduleCallback,tS=s.unstable_NormalPriority,we={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new JA,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&WA(tS,function(){e.controller.abort()})}var tl=null,Tf=0,Va=0,Ma=null;function eS(e,i){if(tl===null){var a=tl=[];Tf=0,Va=bd(),Ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Tf++,i.then(Tg,Tg),i}function Tg(){if(--Tf===0&&tl!==null){Ma!==null&&(Ma.status="fulfilled");var e=tl;tl=null,Va=0,Ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function nS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ag=Q.S;Q.S=function(e,i){r_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&eS(e,i),Ag!==null&&Ag(e,i)};var Pr=M(null);function Af(){var e=Pr.current;return e!==null?e:te.pooledCache}function Hu(e,i){i===null?it(Pr,Pr.current):it(Pr,i.pool)}function Sg(){var e=Af();return e===null?null:{parent:we._currentValue,pool:e}}var xa=Error(r(460)),Sf=Error(r(474)),Fu=Error(r(542)),Gu={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e}throw jr=i,xa}}function zr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jr=a,xa):a}}var jr=null;function Rg(){if(jr===null)throw Error(r(459));var e=jr;return jr=null,e}function Ig(e){if(e===xa||e===Fu)throw Error(r(483))}var Ua=null,el=0;function Qu(e){var i=el;return el+=1,Ua===null&&(Ua=[]),wg(Ua,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ku(e,i){throw i.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Cg(e){function i(U,V){if(e){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function o(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=qi(U,V),U.index=0,U.sibling=null,U}function f(U,V,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,z,K){return V===null||V.tag!==6?(V=hf(z,U.mode,K),V.return=U,V):(V=h(V,z),V.return=U,V)}function C(U,V,z,K){var ft=z.type;return ft===W?G(U,V,z.props.children,K,z.key):V!==null&&(V.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&zr(ft)===V.type)?(V=h(V,z.props),nl(V,z),V.return=U,V):(V=zu(z.type,z.key,z.props,null,U.mode,K),nl(V,z),V.return=U,V)}function j(U,V,z,K){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=ff(z,U.mode,K),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function G(U,V,z,K,ft){return V===null||V.tag!==7?(V=xr(z,U.mode,K,ft),V.return=U,V):(V=h(V,z),V.return=U,V)}function X(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=hf(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return z=zu(V.type,V.key,V.props,null,U.mode,z),nl(z,V),z.return=U,z;case F:return V=ff(V,U.mode,z),V.return=U,V;case b:return V=zr(V),X(U,V,z)}if(fe(V)||k(V))return V=xr(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return X(U,Qu(V),z);if(V.$$typeof===tt)return X(U,qu(U,V),z);Ku(U,V)}return null}function B(U,V,z,K){var ft=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:E(U,V,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===ft?C(U,V,z,K):null;case F:return z.key===ft?j(U,V,z,K):null;case b:return z=zr(z),B(U,V,z,K)}if(fe(z)||k(z))return ft!==null?null:G(U,V,z,K,null);if(typeof z.then=="function")return B(U,V,Qu(z),K);if(z.$$typeof===tt)return B(U,V,qu(U,z),K);Ku(U,z)}return null}function H(U,V,z,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(V,U,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case P:return U=U.get(K.key===null?z:K.key)||null,C(V,U,K,ft);case F:return U=U.get(K.key===null?z:K.key)||null,j(V,U,K,ft);case b:return K=zr(K),H(U,V,z,K,ft)}if(fe(K)||k(K))return U=U.get(z)||null,G(V,U,K,ft,null);if(typeof K.then=="function")return H(U,V,z,Qu(K),ft);if(K.$$typeof===tt)return H(U,V,z,qu(V,K),ft);Ku(V,K)}return null}function ct(U,V,z,K){for(var ft=null,jt=null,ht=V,Ct=V=0,Vt=null;ht!==null&&Ct<z.length;Ct++){ht.index>Ct?(Vt=ht,ht=null):Vt=ht.sibling;var Bt=B(U,ht,z[Ct],K);if(Bt===null){ht===null&&(ht=Vt);break}e&&ht&&Bt.alternate===null&&i(U,ht),V=f(Bt,V,Ct),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt,ht=Vt}if(Ct===z.length)return a(U,ht),kt&&Hi(U,Ct),ft;if(ht===null){for(;Ct<z.length;Ct++)ht=X(U,z[Ct],K),ht!==null&&(V=f(ht,V,Ct),jt===null?ft=ht:jt.sibling=ht,jt=ht);return kt&&Hi(U,Ct),ft}for(ht=o(ht);Ct<z.length;Ct++)Vt=H(ht,U,Ct,z[Ct],K),Vt!==null&&(e&&Vt.alternate!==null&&ht.delete(Vt.key===null?Ct:Vt.key),V=f(Vt,V,Ct),jt===null?ft=Vt:jt.sibling=Vt,jt=Vt);return e&&ht.forEach(function(Gs){return i(U,Gs)}),kt&&Hi(U,Ct),ft}function gt(U,V,z,K){if(z==null)throw Error(r(151));for(var ft=null,jt=null,ht=V,Ct=V=0,Vt=null,Bt=z.next();ht!==null&&!Bt.done;Ct++,Bt=z.next()){ht.index>Ct?(Vt=ht,ht=null):Vt=ht.sibling;var Gs=B(U,ht,Bt.value,K);if(Gs===null){ht===null&&(ht=Vt);break}e&&ht&&Gs.alternate===null&&i(U,ht),V=f(Gs,V,Ct),jt===null?ft=Gs:jt.sibling=Gs,jt=Gs,ht=Vt}if(Bt.done)return a(U,ht),kt&&Hi(U,Ct),ft;if(ht===null){for(;!Bt.done;Ct++,Bt=z.next())Bt=X(U,Bt.value,K),Bt!==null&&(V=f(Bt,V,Ct),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return kt&&Hi(U,Ct),ft}for(ht=o(ht);!Bt.done;Ct++,Bt=z.next())Bt=H(ht,U,Ct,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?Ct:Bt.key),V=f(Bt,V,Ct),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return e&&ht.forEach(function(d1){return i(U,d1)}),kt&&Hi(U,Ct),ft}function Jt(U,V,z,K){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:t:{for(var ft=z.key;V!==null;){if(V.key===ft){if(ft=z.type,ft===W){if(V.tag===7){a(U,V.sibling),K=h(V,z.props.children),K.return=U,U=K;break t}}else if(V.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&zr(ft)===V.type){a(U,V.sibling),K=h(V,z.props),nl(K,z),K.return=U,U=K;break t}a(U,V);break}else i(U,V);V=V.sibling}z.type===W?(K=xr(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=zu(z.type,z.key,z.props,null,U.mode,K),nl(K,z),K.return=U,U=K)}return _(U);case F:t:{for(ft=z.key;V!==null;){if(V.key===ft)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(U,V.sibling),K=h(V,z.children||[]),K.return=U,U=K;break t}else{a(U,V);break}else i(U,V);V=V.sibling}K=ff(z,U.mode,K),K.return=U,U=K}return _(U);case b:return z=zr(z),Jt(U,V,z,K)}if(fe(z))return ct(U,V,z,K);if(k(z)){if(ft=k(z),typeof ft!="function")throw Error(r(150));return z=ft.call(z),gt(U,V,z,K)}if(typeof z.then=="function")return Jt(U,V,Qu(z),K);if(z.$$typeof===tt)return Jt(U,V,qu(U,z),K);Ku(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(U,V.sibling),K=h(V,z),K.return=U,U=K):(a(U,V),K=hf(z,U.mode,K),K.return=U,U=K),_(U)):a(U,V)}return function(U,V,z,K){try{el=0;var ft=Jt(U,V,z,K);return Ua=null,ft}catch(ht){if(ht===xa||ht===Fu)throw ht;var jt=_n(29,ht,null,U.mode);return jt.lanes=K,jt.return=U,jt}finally{}}}var Br=Cg(!0),Ng=Cg(!1),Cs=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Pu(e),fg(e,null,a),i}return Lu(e,o,i,a),Pu(e)}function il(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Do(e,a)}}function Rf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var If=!1;function sl(){if(If){var e=Ma;if(e!==null)throw e}}function rl(e,i,a,o){If=!1;var h=e.updateQueue;Cs=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,_===null?f=j:_.next=j,_=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;_=0,G=j=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ot&B)===B:(o&B)===B){B!==0&&B===Va&&(If=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,gt=E;B=i;var Jt=a;switch(gt.tag){case 1:if(ct=gt.payload,typeof ct=="function"){X=ct.call(Jt,X,B);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=gt.payload,B=typeof ct=="function"?ct.call(Jt,X,B):ct,B==null)break t;X=S({},X,B);break t;case 2:Cs=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=H,C=X):G=G.next=H,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Us|=_,e.lanes=_,e.memoizedState=X}}function Dg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Og(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dg(a[e],i)}var ka=M(null),Yu=M(0);function Vg(e,i){e=ts,it(Yu,e),it(ka,i),ts=e|i.baseLanes}function Cf(){it(Yu,ts),it(ka,ka.current)}function Nf(){ts=Yu.current,$(ka),$(Yu)}var vn=M(null),kn=null;function Os(e){var i=e.alternate;it(pe,pe.current&1),it(vn,e),kn===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(kn=e)}function Df(e){it(pe,pe.current),it(vn,e),kn===null&&(kn=e)}function Mg(e){e.tag===22?(it(pe,pe.current),it(vn,e),kn===null&&(kn=e)):Vs()}function Vs(){it(pe,pe.current),it(vn,vn.current)}function En(e){$(vn),kn===e&&(kn=null),$(pe)}var pe=M(0);function Xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ld(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Rt=null,$t=null,Re=null,$u=!1,La=!1,qr=!1,Zu=0,al=0,Pa=null,iS=0;function ue(){throw Error(r(321))}function Of(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!yn(e[a],i[a]))return!1;return!0}function Vf(e,i,a,o,h,f){return Qi=f,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?gy:Kf,qr=!1,f=a(o,h),qr=!1,La&&(f=Ug(i,a,o,h)),xg(e),f}function xg(e){Q.H=ul;var i=$t!==null&&$t.next!==null;if(Qi=0,Re=$t=Rt=null,$u=!1,al=0,Pa=null,i)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&Bu(e)&&(Ie=!0))}function Ug(e,i,a,o){Rt=e;var h=0;do{if(La&&(Pa=null),al=0,La=!1,25<=h)throw Error(r(301));if(h+=1,Re=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=yy,f=i(a,o)}while(La);return f}function sS(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?ol(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Mf(){var e=Zu!==0;return Zu=0,e}function xf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Uf(e){if($u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}$u=!1}Qi=0,Re=$t=Rt=null,La=!1,al=Zu=0,Pa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Rt.memoizedState=Re=e:Re=Re.next=e,Re}function ge(){if($t===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Re===null?Rt.memoizedState:Re.next;if(i!==null)Re=i,$t=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Re===null?Rt.memoizedState=Re=e:Re=Re.next=e}return Re}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var i=al;return al+=1,Pa===null&&(Pa=[]),e=wg(Pa,e,i),i=Rt,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?gy:Kf),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===tt)return He(e)}throw Error(r(438,String(e)))}function kf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function Ki(e,i){return typeof i=="function"?i(e):i}function tc(e){var i=ge();return Lf(i,$t,e)}function Lf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=_=null,C=null,j=i,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ot&X)===X:(Qi&X)===X){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Va&&(G=!0);else if((Qi&B)===B){j=j.next,B===Va&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=X,_=f):C=C.next=X,Rt.lanes|=B,Us|=B;X=j.action,qr&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=B,_=f):C=C.next=B,Rt.lanes|=X,Us|=X;j=j.next}while(j!==null&&j!==i);if(C===null?_=f:C.next=E,!yn(f,e.memoizedState)&&(Ie=!0,G&&(a=Ma,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Pf(e){var i=ge(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);yn(f,i.memoizedState)||(Ie=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function kg(e,i,a){var o=Rt,h=ge(),f=kt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!yn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,Ie=!0),h=h.queue,Bf(zg.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},Pg.bind(null,o,h,a,i),null),te===null)throw Error(r(349));f||(Qi&127)!==0||Lg(o,i,a)}return a}function Lg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Ju(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Pg(e,i,a,o){i.value=a,i.getSnapshot=o,jg(i)&&Bg(e)}function zg(e,i,a){return a(function(){jg(i)&&Bg(e)})}function jg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!yn(e,a)}catch{return!0}}function Bg(e){var i=Mr(e,2);i!==null&&cn(i,e,2)}function zf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),qr){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},i}function qg(e,i,a,o){return e.baseState=a,Lf(e,$t,typeof o=="function"?o:Ki)}function rS(e,i,a,o,h){if(ic(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Hg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Hg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=Q.T,_={};Q.T=_;try{var E=a(h,o),C=Q.S;C!==null&&C(_,E),Fg(e,i,E)}catch(j){jf(e,i,j)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=a(h,o),Fg(e,i,f)}catch(j){jf(e,i,j)}}function Fg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Gg(e,i,o)},function(o){return jf(e,i,o)}):Gg(e,i,a)}function Gg(e,i,a){i.status="fulfilled",i.value=a,Qg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Hg(e,a)))}function jf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Qg(i),i=i.next;while(i!==o)}e.action=null}function Qg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Kg(e,i){return i}function Yg(e,i){if(kt){var a=te.formState;if(a!==null){t:{var o=Rt;if(kt){if(ne){e:{for(var h=ne,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Ln(h.nextSibling),o=h.data==="F!";break t}}Rs(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},a.queue=o,a=dy.bind(null,Rt,o),o.dispatch=a,o=zf(!1),f=Qf.bind(null,Rt,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=rS.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Xg(e){var i=ge();return $g(i,$t,e)}function $g(e,i,a){if(i=Lf(e,i,Kg)[0],e=tc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ol(i)}catch(_){throw _===xa?Fu:_}else o=i;i=ge();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,za(9,{destroy:void 0},aS.bind(null,h,a),null)),[o,f,e]}function aS(e,i){e.action=i}function Zg(e){var i=ge(),a=$t;if(a!==null)return $g(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function za(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Ju(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Jg(){return ge().memoizedState}function ec(e,i,a,o){var h=nn();Rt.flags|=e,h.memoizedState=za(1|i,{destroy:void 0},a,o===void 0?null:o)}function nc(e,i,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&Of(o,$t.memoizedState.deps)?h.memoizedState=za(i,f,a,o):(Rt.flags|=e,h.memoizedState=za(1|i,f,a,o))}function Wg(e,i){ec(8390656,8,e,i)}function Bf(e,i){nc(2048,8,e,i)}function oS(e){Rt.flags|=4;var i=Rt.updateQueue;if(i===null)i=Ju(),Rt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function ty(e){var i=ge().memoizedState;return oS({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function ey(e,i){return nc(4,2,e,i)}function ny(e,i){return nc(4,4,e,i)}function iy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function sy(e,i,a){a=a!=null?a.concat([e]):null,nc(4,4,iy.bind(null,i,e),a)}function qf(){}function ry(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Of(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function ay(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Of(i,o[1]))return o[0];if(o=e(),qr){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,i],o}function Hf(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=o_(),Rt.lanes|=e,Us|=e,a)}function oy(e,i,a,o){return yn(a,i)?a:ka.current!==null?(e=Hf(e,a,o),yn(e,i)||(Ie=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Ot&261930)===0?(Ie=!0,e.memoizedState=a):(e=o_(),Rt.lanes|=e,Us|=e,i)}function ly(e,i,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var _=Q.T,E={};Q.T=E,Qf(e,!1,i,a);try{var C=h(),j=Q.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=nS(C,o);ll(e,i,G,Sn(e))}else ll(e,i,o,Sn(e))}catch(X){ll(e,i,{then:function(){},status:"rejected",reason:X},Sn())}finally{nt.p=f,_!==null&&E.types!==null&&(_.types=E.types),Q.T=_}}function lS(){}function Ff(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=uy(e).queue;ly(e,h,i,mt,a===null?lS:function(){return cy(e),a(o)})}function uy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function cy(e){var i=uy(e);i.next===null&&(i=e.alternate.memoizedState),ll(e,i.next.queue,{},Sn())}function Gf(){return He(wl)}function hy(){return ge().memoizedState}function fy(){return ge().memoizedState}function uS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=Ns(a);var o=Ds(i,e,a);o!==null&&(cn(o,i,a),il(o,i,a)),i={cache:Ef()},e.payload=i;return}i=i.return}}function cS(e,i,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(e)?my(i,a):(a=uf(e,i,a,o),a!==null&&(cn(a,e,o),py(a,i,o)))}function dy(e,i,a){var o=Sn();ll(e,i,a,o)}function ll(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(e))my(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,_))return Lu(e,i,h,0),te===null&&ku(),!1}catch{}finally{}if(a=uf(e,i,h,o),a!==null)return cn(a,e,o),py(a,i,o),!0}return!1}function Qf(e,i,a,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(i)throw Error(r(479))}else i=uf(e,a,o,2),i!==null&&cn(i,e,2)}function ic(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function my(e,i){La=$u=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function py(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Do(e,a)}}var ul={readContext:He,use:Wu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};ul.useEffectEvent=ue;var gy={readContext:He,use:Wu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Wg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ec(4194308,4,iy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ec(4194308,4,e,i)},useInsertionEffect:function(e,i){ec(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var o=e();if(qr){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=nn();if(a!==void 0){var h=a(i);if(qr){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=cS.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=dy.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(e,i){var a=nn();return Hf(a,e,i)},useTransition:function(){var e=zf(!1);return e=ly.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Rt,h=nn();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),te===null)throw Error(r(349));(Ot&127)!==0||Lg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Wg(zg.bind(null,o,f,e),[e]),o.flags|=2048,za(9,{destroy:void 0},Pg.bind(null,o,f,a,i),null),a},useId:function(){var e=nn(),i=te.identifierPrefix;if(kt){var a=Si,o=Ai;a=(o&~(1<<32-de(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=iS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Gf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:kf,useCacheRefresh:function(){return nn().memoizedState=uS.bind(null,Rt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:He,use:Wu,useCallback:ry,useContext:He,useEffect:Bf,useImperativeHandle:sy,useInsertionEffect:ey,useLayoutEffect:ny,useMemo:ay,useReducer:tc,useRef:Jg,useState:function(){return tc(Ki)},useDebugValue:qf,useDeferredValue:function(e,i){var a=ge();return oy(a,$t.memoizedState,e,i)},useTransition:function(){var e=tc(Ki)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:kg,useId:hy,useHostTransitionStatus:Gf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,i){var a=ge();return qg(a,$t,e,i)},useMemoCache:kf,useCacheRefresh:fy};Kf.useEffectEvent=ty;var yy={readContext:He,use:Wu,useCallback:ry,useContext:He,useEffect:Bf,useImperativeHandle:sy,useInsertionEffect:ey,useLayoutEffect:ny,useMemo:ay,useReducer:Pf,useRef:Jg,useState:function(){return Pf(Ki)},useDebugValue:qf,useDeferredValue:function(e,i){var a=ge();return $t===null?Hf(a,e,i):oy(a,$t.memoizedState,e,i)},useTransition:function(){var e=Pf(Ki)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:kg,useId:hy,useHostTransitionStatus:Gf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,i){var a=ge();return $t!==null?qg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:fy};yy.useEffectEvent=ty;function Yf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Sn(),h=Ns(o);h.payload=i,a!=null&&(h.callback=a),i=Ds(e,h,o),i!==null&&(cn(i,e,o),il(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Sn(),h=Ns(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ds(e,h,o),i!==null&&(cn(i,e,o),il(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),o=Ns(a);o.tag=2,i!=null&&(o.callback=i),i=Ds(e,o,a),i!==null&&(cn(i,e,a),il(i,e,a))}};function _y(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,o)||!Xo(h,f):!0}function vy(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Xf.enqueueReplaceState(i,i.state,null)}function Hr(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Ey(e){Uu(e)}function Ty(e){console.error(e)}function Ay(e){Uu(e)}function sc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Sy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(e,i,a){return a=Ns(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(e,i)},a}function by(e){return e=Ns(e),e.tag=3,e}function wy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Sy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Sy(i,a,o),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function hS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?gc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Td(e,o,h)),!1;case 22:return a.flags|=65536,o===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Td(e,o,h)),!1}throw Error(r(435,a.tag))}return Td(e,o,h),gc(),!1}if(kt)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==pf&&(e=Error(r(422),{cause:o}),Jo(Vn(e,a)))):(o!==pf&&(i=Error(r(423),{cause:o}),Jo(Vn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,a),h=$f(e.stateNode,o,h),Rf(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=Vn(f,a),yl===null?yl=[f]:yl.push(f),ce!==4&&(ce=2),i===null)return!0;o=Vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=$f(a.stateNode,o,e),Rf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=by(h),wy(h,e,a,o),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(r(461)),Ie=!1;function Fe(e,i,a,o){i.child=e===null?Ng(i,null,a,o):Br(i,e.child,a,o)}function Ry(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Lr(i),o=Vf(e,i,a,_,f,h),E=Mf(),e!==null&&!Ie?(xf(e,i,h),Yi(e,i,h)):(kt&&E&&df(i),i.flags|=1,Fe(e,i,o,h),i.child)}function Iy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!cf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Cy(e,i,f,o,h)):(e=zu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!rd(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(_,o)&&e.ref===i.ref)return Yi(e,i,h)}return i.flags|=1,e=qi(f,o),e.ref=i.ref,e.return=i,i.child=e}function Cy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Xo(f,o)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=o=f,rd(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Yi(e,i,h)}return Jf(e,i,a,o,h)}function Ny(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Dy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(i,f!==null?f.cachePool:null),f!==null?Vg(i,f):Cf(),Mg(i);else return o=i.lanes=536870912,Dy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Hu(i,f.cachePool),Vg(i,f),Vs(),i.memoizedState=null):(e!==null&&Hu(i,null),Cf(),Vs());return Fe(e,i,h,a),i.child}function cl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Dy(e,i,a,o,h){var f=Af();return f=f===null?null:{parent:we._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Hu(i,null),Cf(),Mg(i),e!==null&&Oa(e,i,o,!0),i.childLanes=h,null}function rc(e,i){return i=oc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Oy(e,i,a){return Br(i,e.child,null,a),e=rc(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function fS(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=rc(i,o),i.lanes=536870912,cl(null,e);if(Df(i),(e=ne)?(e=H_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=mg(e),a.return=i,i.child=a,qe=i,ne=null)):e=null,e===null)throw Rs(i);return i.lanes=536870912,null}return rc(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(Df(i),h)if(i.flags&256)i.flags&=-257,i=Oy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ie||Oa(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=te,o!==null&&(_=Oo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Mr(e,_),cn(o,e,_),Zf;gc(),i=Oy(e,i,a)}else e=f.treeContext,ne=Ln(_.nextSibling),qe=i,kt=!0,ws=null,Un=!1,e!==null&&yg(i,e),i=rc(i,o),i.flags|=4096;return i}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ac(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Jf(e,i,a,o,h){return Lr(i),a=Vf(e,i,a,o,void 0,h),o=Mf(),e!==null&&!Ie?(xf(e,i,h),Yi(e,i,h)):(kt&&o&&df(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Vy(e,i,a,o,h,f){return Lr(i),i.updateQueue=null,a=Ug(i,o,a,h),xg(e),o=Mf(),e!==null&&!Ie?(xf(e,i,f),Yi(e,i,f)):(kt&&o&&df(i),i.flags|=1,Fe(e,i,a,f),i.child)}function My(e,i,a,o,h){if(Lr(i),i.stateNode===null){var f=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},bf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?He(_):Ia,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Yf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Xf.enqueueReplaceState(f,f.state,null),rl(i,o,f,h),sl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,C=Hr(a,E);f.props=C;var j=f.context,G=a.contextType;_=Ia,typeof G=="object"&&G!==null&&(_=He(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==_)&&vy(i,f,o,_),Cs=!1;var B=i.memoizedState;f.state=B,rl(i,o,f,h),sl(),j=i.memoizedState,E||B!==j||Cs?(typeof X=="function"&&(Yf(i,a,X,o),j=i.memoizedState),(C=Cs||_y(i,a,C,o,B,j,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,wf(e,i),_=i.memoizedProps,G=Hr(a,_),f.props=G,X=i.pendingProps,B=f.context,j=a.contextType,C=Ia,typeof j=="object"&&j!==null&&(C=He(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||B!==C)&&vy(i,f,o,C),Cs=!1,B=i.memoizedState,f.state=B,rl(i,o,f,h),sl();var H=i.memoizedState;_!==X||B!==H||Cs||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof E=="function"&&(Yf(i,a,E,o),H=i.memoizedState),(G=Cs||_y(i,a,G,o,B,H,C)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,ac(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Br(i,e.child,null,h),i.child=Br(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Yi(e,i,h),e}function xy(e,i,a,o){return Ur(),i.flags|=256,Fe(e,i,a,o),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(e){return{baseLanes:e,cachePool:Sg()}}function ed(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function Uy(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(kt){if(h?Os(i):Vs(),(e=ne)?(e=H_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=mg(e),a.return=i,i.child=a,qe=i,ne=null)):e=null,e===null)throw Rs(i);return Ld(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Vs(),h=i.mode,E=oc({mode:"hidden",children:E},h),o=xr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=td(a),o.childLanes=ed(e,_,a),i.memoizedState=Wf,cl(null,o)):(Os(i),nd(i,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(Os(i),i.flags&=-257,i=id(e,i,a)):i.memoizedState!==null?(Vs(),i.child=e.child,i.flags|=128,i=null):(Vs(),E=o.fallback,h=i.mode,o=oc({mode:"visible",children:o.children},h),E=xr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Br(i,e.child,null,a),o=i.child,o.memoizedState=td(a),o.childLanes=ed(e,_,a),i.memoizedState=Wf,i=cl(null,o));else if(Os(i),Ld(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(r(419)),o.stack="",o.digest=_,Jo({value:o,source:null,stack:null}),i=id(e,i,a)}else if(Ie||Oa(e,i,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=te,_!==null&&(o=Oo(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Mr(e,o),cn(_,e,o),Zf;kd(E)||gc(),i=id(e,i,a)}else kd(E)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ne=Ln(E.nextSibling),qe=i,kt=!0,ws=null,Un=!1,e!==null&&yg(i,e),i=nd(i,o.children),i.flags|=4096);return i}return h?(Vs(),E=o.fallback,h=i.mode,C=e.child,j=C.sibling,o=qi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=qi(j,E):(E=xr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,cl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=td(a):(h=E.cachePool,h!==null?(C=we._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Sg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=ed(e,_,a),i.memoizedState=Wf,cl(e.child,o)):(Os(i),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function nd(e,i){return i=oc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function oc(e,i){return e=_n(22,e,null,i),e.lanes=0,e}function id(e,i,a){return Br(i,e.child,null,a),e=nd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ky(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),_f(e.return,i,a)}function sd(e,i,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Ly(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=pe.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,it(pe,_),Fe(e,i,o,a),o=kt?Zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ky(e,a,i);else if(e.tag===19)ky(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}sd(i,!0,a,null,f,o);break;case"together":sd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Yi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Us|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function dS(e,i,a){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),Is(i,we,e.memoizedState.cache),Ur();break;case 27:case 5:pr(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:Is(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Df(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Os(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Uy(e,i,a):(Os(i),e=Yi(e,i,a),e!==null?e.sibling:null);Os(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Oa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ly(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(pe,pe.current),o)break;return null;case 22:return i.lanes=0,Ny(e,i,a,i.pendingProps);case 24:Is(i,we,e.memoizedState.cache)}return Yi(e,i,a)}function Py(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!rd(e,a)&&(i.flags&128)===0)return Ie=!1,dS(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,kt&&(i.flags&1048576)!==0&&gg(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=zr(i.elementType),i.type=e,typeof e=="function")cf(e)?(o=Hr(e,o),i.tag=1,i=My(null,i,e,o,a)):(i.tag=0,i=Jf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===ut){i.tag=11,i=Ry(null,i,e,o,a);break t}else if(h===D){i.tag=14,i=Iy(null,i,e,o,a);break t}}throw i=Wt(e)||e,Error(r(306,i,""))}}return i;case 0:return Jf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Hr(o,i.pendingProps),My(e,i,o,h,a);case 3:t:{if(Ve(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,wf(e,i),rl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Is(i,we,o),o!==f.cache&&vf(i,[we],a,!0),sl(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=xy(e,i,o,a);break t}else if(o!==h){h=Vn(Error(r(424)),i),Jo(h),i=xy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Ln(e.firstChild),qe=i,kt=!0,ws=null,Un=!0,a=Ng(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ur(),o===h){i=Yi(e,i,a);break t}Fe(e,i,o,a)}i=i.child}return i;case 26:return ac(e,i),e===null?(a=X_(i.type,null,i.pendingProps,null))?i.memoizedState=a:kt||(a=i.type,e=i.pendingProps,o=Sc(It.current).createElement(a),o[Ae]=i,o[ke]=e,Ge(o,a,e),Se(o),i.stateNode=o):i.memoizedState=X_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return pr(i),e===null&&kt&&(o=i.stateNode=Q_(i.type,i.pendingProps,It.current),qe=i,Un=!0,h=ne,js(i.type)?(Pd=h,ne=Ln(o.firstChild)):ne=h),Fe(e,i,i.pendingProps.children,a),ac(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&kt&&((h=o=ne)&&(o=HS(o,i.type,i.pendingProps,Un),o!==null?(i.stateNode=o,qe=i,ne=Ln(o.firstChild),Un=!1,h=!0):h=!1),h||Rs(i)),pr(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Md(h,f)?o=null:_!==null&&Md(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(e,i,sS,null,null,a),wl._currentValue=h),ac(e,i),Fe(e,i,o,a),i.child;case 6:return e===null&&kt&&((e=a=ne)&&(a=FS(a,i.pendingProps,Un),a!==null?(i.stateNode=a,qe=i,ne=null,e=!0):e=!1),e||Rs(i)),null;case 13:return Uy(e,i,a);case 4:return Ve(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Br(i,null,o,a):Fe(e,i,o,a),i.child;case 11:return Ry(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Is(i,i.type,o.value),Fe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Lr(i),h=He(h),o=o(h),i.flags|=1,Fe(e,i,o,a),i.child;case 14:return Iy(e,i,i.type,i.pendingProps,a);case 15:return Cy(e,i,i.type,i.pendingProps,a);case 19:return Ly(e,i,a);case 31:return fS(e,i,a);case 22:return Ny(e,i,a,i.pendingProps);case 24:return Lr(i),o=He(we),e===null?(h=Af(),h===null&&(h=te,f=Ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},bf(i),Is(i,we,h)):((e.lanes&a)!==0&&(wf(e,i),rl(i,null,null,a),sl()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Is(i,we,o)):(o=f.cache,Is(i,we,o),o!==h.cache&&vf(i,[we],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xi(e){e.flags|=4}function ad(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(h_())e.flags|=8192;else throw jr=Gu,Sf}else e.flags&=-16777217}function zy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tv(i))if(h_())e.flags|=8192;else throw jr=Gu,Sf}function lc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?mu():536870912,e.lanes|=i,Ha|=i)}function hl(e,i){if(!kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function mS(e,i,a){var o=i.pendingProps;switch(mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gi(we),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Da(i)?Xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gf())),ie(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Xi(i),f!==null?(ie(i),zy(i,f)):(ie(i),ad(i,h,null,o,a))):f?f!==e.memoizedState?(Xi(i),ie(i),zy(i,f)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(i),ie(i),ad(i,h,e,o,a)),null;case 27:if(la(i),a=It.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ie(i),null}e=lt.current,Da(i)?_g(i):(e=Q_(h,o,a),i.stateNode=e,Xi(i))}return ie(i),null;case 5:if(la(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ie(i),null}if(f=lt.current,Da(i))_g(i);else{var _=Sc(It.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Ae]=i,f[ke]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(i)}}return ie(i),ad(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=It.current,Da(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||U_(e.nodeValue,a)),e||Rs(i,!0)}else e=Sc(e).createTextNode(o),e[Ae]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Da(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ae]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Da(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ae]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),ie(i),null);case 4:return re(),e===null&&Cd(i.stateNode.containerInfo),ie(i),null;case 10:return Gi(i.type),ie(i),null;case 19:if($(pe),o=i.memoizedState,o===null)return ie(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)hl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Xu(e),f!==null){for(i.flags|=128,hl(o,!1),e=f.updateQueue,i.updateQueue=e,lc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)dg(a,e),a=a.sibling;return it(pe,pe.current&1|2),kt&&Hi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&tn()>dc&&(i.flags|=128,h=!0,hl(o,!1),i.lanes=4194304)}else{if(!h)if(e=Xu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,lc(i,e),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ie(i),null}else 2*tn()-o.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,h=!0,hl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=pe.current,it(pe,h?a&1|2:a&1),kt&&Hi(i,o.treeForkCount),e):(ie(i),null);case 22:case 23:return En(i),Nf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&$(Pr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(we),ie(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function pS(e,i){switch(mf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Gi(we),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return la(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Ur()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ur()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(pe),null;case 4:return re(),null;case 10:return Gi(i.type),null;case 22:case 23:return En(i),Nf(),e!==null&&$(Pr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Gi(we),null;case 25:return null;default:return null}}function jy(e,i){switch(mf(i),i.tag){case 3:Gi(we),re();break;case 26:case 27:case 5:la(i);break;case 4:re();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:$(pe);break;case 10:Gi(i.type);break;case 22:case 23:En(i),Nf(),e!==null&&$(Pr);break;case 24:Gi(we)}}function fl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Ms(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var C=a,j=E;try{j()}catch(G){Yt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(i,i.return,G)}}function By(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Og(i,a)}catch(o){Yt(e,e.return,o)}}}function qy(e,i,a){a.props=Hr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function dl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,i,h)}}function bi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Hy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function od(e,i,a){try{var o=e.stateNode;LS(o,e.type,a,i),o[ke]=i}catch(h){Yt(e,e.return,h)}}function Fy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&js(e.type)||e.tag===4}function ld(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(o!==4&&(o===27&&js(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ud(e,i,a),e=e.sibling;e!==null;)ud(e,i,a),e=e.sibling}function uc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&js(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uc(e,i,a),e=e.sibling;e!==null;)uc(e,i,a),e=e.sibling}function Gy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,o,a),i[Ae]=e,i[ke]=a}catch(f){Yt(e,e.return,f)}}var $i=!1,Ce=!1,cd=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function gS(e,i){if(e=e.containerInfo,Od=Dc,e=sg(e),nf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,C=-1,j=0,G=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=_+h),X!==f||o!==0&&X.nodeType!==3||(C=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++j===h&&(E=_),B===f&&++G===o&&(C=_),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:e,selectionRange:a},Dc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ct=Hr(a.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ud(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Ky(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),o&4&&fl(5,a);break;case 1:if(Ji(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Hr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}o&64&&By(a),o&512&&dl(a,a.return);break;case 3:if(Ji(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Og(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&o&4&&Gy(a);case 26:case 5:Ji(e,a),i===null&&o&4&&Hy(a),o&512&&dl(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),o&4&&$y(e,a);break;case 13:Ji(e,a),o&4&&Zy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wS.bind(null,a),GS(e,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){i=i!==null&&i.memoizedState!==null||Ce,h=$i;var f=Ce;$i=o,(Ce=i)&&!f?Wi(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),$i=h,Ce=f}break;case 30:break;default:Ji(e,a)}}function Yy(e){var i=e.alternate;i!==null&&(e.alternate=null,Yy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&da(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Zi(e,i,a){for(a=a.child;a!==null;)Xy(e,i,a),a=a.sibling}function Xy(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ce||bi(a,i),Zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||bi(a,i);var o=oe,h=an;js(a.type)&&(oe=a.stateNode,an=!1),Zi(e,i,a),Al(a.stateNode),oe=o,an=h;break;case 5:Ce||bi(a,i);case 6:if(o=oe,h=an,oe=null,Zi(e,i,a),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,i,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,i,f)}break;case 18:oe!==null&&(an?(e=oe,B_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Za(e)):B_(oe,a.stateNode));break;case 4:o=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Zi(e,i,a),oe=o,an=h;break;case 0:case 11:case 14:case 15:Ms(2,a,i),Ce||Ms(4,a,i),Zi(e,i,a);break;case 1:Ce||(bi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&qy(a,i,o)),Zi(e,i,a);break;case 21:Zi(e,i,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Zi(e,i,a),Ce=o;break;default:Zi(e,i,a)}}function $y(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(a){Yt(i,i.return,a)}}}function Zy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(a){Yt(i,i.return,a)}}function yS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Qy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Qy),i;default:throw Error(r(435,e.tag))}}function cc(e,i){var a=yS(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=RS.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(js(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(r(160));Xy(f,_,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Jy(i,e),i=i.sibling}var Jn=null;function Jy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(Ms(3,e,e.return),fl(3,e),Ms(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(Ce||a===null||bi(a,a.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(on(i,e),ln(e),o&512&&(Ce||a===null||bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Ae]=e,Se(f),o=f;break t;case"link":var _=J_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(_=J_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ae]=e,Se(f),o=f}e.stateNode=o}else W_(h,e.type,e.stateNode);else e.stateNode=Z_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?W_(h,e.type,e.stateNode):Z_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&od(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(Ce||a===null||bi(a,a.return)),a!==null&&o&4&&od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(Ce||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ct){Yt(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,od(e,h,a!==null?a.memoizedProps:h)),o&1024&&(cd=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(Rc=null,h=Jn,Jn=bc(i.containerInfo),on(i,e),Jn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(ct){Yt(e,e.return,ct)}cd&&(cd=!1,Wy(e));break;case 4:o=Jn,Jn=bc(e.stateNode.containerInfo),on(i,e),ln(e),Jn=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,cc(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,cc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=$i,G=Ce;if($i=j||h,Ce=G||C,on(i,e),Ce=G,$i=j,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||$i||Ce||Fr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Yt(C,C.return,ct)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ct){Yt(C,C.return,ct)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?q_(H,!0):q_(C.stateNode,!1)}catch(ct){Yt(C,C.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,cc(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,cc(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Fy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ld(e);uc(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var E=ld(e);uc(e,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,j=ld(e);ud(e,j,C);break;default:throw Error(r(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ji(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(e,i.alternate,i),i=i.sibling}function Fr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ms(4,i,i.return),Fr(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&qy(i,i.return,a),Fr(i);break;case 27:Al(i.stateNode);case 26:case 5:bi(i,i.return),Fr(i);break;case 22:i.memoizedState===null&&Fr(i);break;case 30:Fr(i);break;default:Fr(i)}e=e.sibling}}function Wi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,a),fl(4,f);break;case 1:if(Wi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Dg(C[h],E)}catch(j){Yt(o,o.return,j)}}a&&_&64&&By(f),dl(f,f.return);break;case 27:Gy(f);case 26:case 5:Wi(h,f,a),a&&o===null&&_&4&&Hy(f),dl(f,f.return);break;case 12:Wi(h,f,a);break;case 31:Wi(h,f,a),a&&_&4&&$y(h,f);break;case 13:Wi(h,f,a),a&&_&4&&Zy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,a),dl(f,f.return);break;case 30:break;default:Wi(h,f,a)}i=i.sibling}}function hd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function fd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function Wn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t_(e,i,a,o),i=i.sibling}function t_(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,o),h&2048&&fl(9,i);break;case 1:Wn(e,i,a,o);break;case 3:Wn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){Wn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(i,i.return,C)}}else Wn(e,i,a,o);break;case 31:Wn(e,i,a,o);break;case 13:Wn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Wn(e,i,a,o):ml(e,i):f._visibility&2?Wn(e,i,a,o):(f._visibility|=2,ja(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&hd(_,i);break;case 24:Wn(e,i,a,o),h&2048&&fd(i.alternate,i);break;default:Wn(e,i,a,o)}}function ja(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,E=a,C=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:ja(f,_,E,C,h),fl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ja(f,_,E,C,h):ml(f,_):(G._visibility|=2,ja(f,_,E,C,h)),h&&j&2048&&hd(_.alternate,_);break;case 24:ja(f,_,E,C,h),h&&j&2048&&fd(_.alternate,_);break;default:ja(f,_,E,C,h)}i=i.sibling}}function ml(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ml(a,o),h&2048&&hd(o.alternate,o);break;case 24:ml(a,o),h&2048&&fd(o.alternate,o);break;default:ml(a,o)}i=i.sibling}}var pl=8192;function Ba(e,i,a){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)e_(e,i,a),e=e.sibling}function e_(e,i,a){switch(e.tag){case 26:Ba(e,i,a),e.flags&pl&&e.memoizedState!==null&&i1(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,i,a);break;case 3:case 4:var o=Jn;Jn=bc(e.stateNode.containerInfo),Ba(e,i,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=pl,pl=16777216,Ba(e,i,a),pl=o):Ba(e,i,a));break;default:Ba(e,i,a)}}function n_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function gl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pe=o,s_(o,e)}n_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)i_(e),e=e.sibling}function i_(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Ms(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,hc(e)):gl(e);break;default:gl(e)}}function hc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pe=o,s_(o,e)}n_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ms(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}e=e.sibling}}function s_(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ms(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(Yy(o),o===a){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var _S={getCacheForType:function(e){var i=He(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(we).controller.signal}},vS=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Nt=null,Ot=0,Kt=0,Tn=null,xs=!1,qa=!1,dd=!1,ts=0,ce=0,Us=0,Gr=0,md=0,An=0,Ha=0,yl=null,un=null,pd=!1,fc=0,r_=0,dc=1/0,mc=null,ks=null,xe=0,Ls=null,Fa=null,es=0,gd=0,yd=null,a_=null,_l=0,_d=null;function Sn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:Q.T!==null?bd():pu()}function o_(){if(An===0)if((Ot&536870912)===0||kt){var e=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),An=e}else An=536870912;return e=vn.current,e!==null&&(e.flags|=32),An}function cn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),Ps(e,Ot,An,!1)),vr(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Gr|=a),ce===4&&Ps(e,Ot,An,!1)),wi(e))}function l_(e,i,a){if((Ht&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=o?AS(e,i):Ed(e,i,!0),f=o;do{if(h===0){qa&&!o&&Ps(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!ES(a)){h=Ed(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=yl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ga(E,_).flags|=256),_=Ed(E,_,!1),_!==2){if(dd&&!C){E.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ga(e,0),Ps(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ps(o,i,An,!xs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=fc+300-tn(),10<h)){if(Ps(o,i,An,!xs),oi(o,0,!0)!==0)break t;es=i,o.timeoutHandle=z_(u_.bind(null,o,a,un,mc,pd,i,An,Gr,Ha,xs,f,"Throttled",-0,0),h);break t}u_(o,a,un,mc,pd,i,An,Gr,Ha,xs,f,null,-0,0)}}break}while(!0);wi(e)}function u_(e,i,a,o,h,f,_,E,C,j,G,X,B,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},e_(i,f,X);var ct=(f&62914560)===f?fc-tn():(f&4194048)===f?r_-tn():0;if(ct=s1(X,ct),ct!==null){es=f,e.cancelPendingCommit=ct(y_.bind(null,e,i,f,a,o,h,_,E,C,G,X,null,B,H)),Ps(e,f,_,!j);return}}y_(e,i,f,a,o,h,_,E,C)}function ES(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ps(e,i,a,o){i&=~md,i&=~Gr,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-de(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Er(e,a,i)}function pc(){return(Ht&6)===0?(vl(0),!1):!0}function vd(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Fi=kr=null,Uf(e),Ua=null,el=0,e=Nt;for(;e!==null;)jy(e.alternate,e),e=e.return;Nt=null}}function Ga(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,jS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),es=0,vd(),te=e,Nt=a=qi(e.current,null),Ot=i,Kt=0,Tn=null,xs=!1,qa=Hn(e,i),dd=!1,Ha=An=md=Gr=Us=ce=0,un=yl=null,pd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-de(o),f=1<<h;i|=e[h],o&=~f}return ts=i,ku(),a}function c_(e,i){Rt=null,Q.H=ul,i===xa||i===Fu?(i=Rg(),Kt=3):i===Sf?(i=Rg(),Kt=4):Kt=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Nt===null&&(ce=1,sc(e,Vn(i,e.current)))}function h_(){var e=vn.current;return e===null?!0:(Ot&4194048)===Ot?kn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===kn:!1}function f_(){var e=Q.H;return Q.H=ul,e===null?ul:e}function d_(){var e=Q.A;return Q.A=_S,e}function gc(){ce=4,xs||(Ot&4194048)!==Ot&&vn.current!==null||(qa=!0),(Us&134217727)===0&&(Gr&134217727)===0||te===null||Ps(te,Ot,An,!1)}function Ed(e,i,a){var o=Ht;Ht|=2;var h=f_(),f=d_();(te!==e||Ot!==i)&&(mc=null,Ga(e,i)),i=!1;var _=ce;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,C=Tn;switch(Kt){case 8:vd(),_=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var j=Kt;if(Kt=0,Tn=null,Qa(e,E,C,j),a&&qa){_=0;break t}break;default:j=Kt,Kt=0,Tn=null,Qa(e,E,C,j)}}TS(),_=ce;break}catch(G){c_(e,G)}while(!0);return i&&e.shellSuspendCounter++,Fi=kr=null,Ht=o,Q.H=h,Q.A=f,Nt===null&&(te=null,Ot=0,ku()),_}function TS(){for(;Nt!==null;)m_(Nt)}function AS(e,i){var a=Ht;Ht|=2;var o=f_(),h=d_();te!==e||Ot!==i?(mc=null,dc=tn()+500,Ga(e,i)):qa=Hn(e,i);t:do try{if(Kt!==0&&Nt!==null){i=Nt;var f=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,Qa(e,i,f,1);break;case 2:case 9:if(bg(f)){Kt=0,Tn=null,p_(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),wi(e)},f.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:bg(f)?(Kt=0,Tn=null,p_(i)):(Kt=0,Tn=null,Qa(e,i,f,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var E=Nt;if(_?tv(_):E.stateNode.complete){Kt=0,Tn=null;var C=E.sibling;if(C!==null)Nt=C;else{var j=E.return;j!==null?(Nt=j,yc(j)):Nt=null}break e}}Kt=0,Tn=null,Qa(e,i,f,5);break;case 6:Kt=0,Tn=null,Qa(e,i,f,6);break;case 8:vd(),ce=6;break t;default:throw Error(r(462))}}SS();break}catch(G){c_(e,G)}while(!0);return Fi=kr=null,Q.H=o,Q.A=h,Ht=a,Nt!==null?0:(te=null,Ot=0,ku(),ce)}function SS(){for(;Nt!==null&&!Xh();)m_(Nt)}function m_(e){var i=Py(e.alternate,e,ts);e.memoizedProps=e.pendingProps,i===null?yc(e):Nt=i}function p_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Vy(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=Vy(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:Uf(i);default:jy(a,i),i=Nt=dg(i,ts),i=Py(a,i,ts)}e.memoizedProps=e.pendingProps,i===null?yc(e):Nt=i}function Qa(e,i,a,o){Fi=kr=null,Uf(i),Ua=null,el=0;var h=i.return;try{if(hS(e,h,i,a,Ot)){ce=1,sc(e,Vn(a,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ce=1,sc(e,Vn(a,e.current)),Nt=null;return}i.flags&32768?(kt||o===1?e=!0:qa||(Ot&536870912)!==0?e=!1:(xs=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),g_(i,e)):yc(i)}function yc(e){var i=e;do{if((i.flags&32768)!==0){g_(i,xs);return}e=i.return;var a=mS(i.alternate,i,ts);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function g_(e,i){do{var a=pS(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function y_(e,i,a,o,h,f,_,E,C){e.cancelPendingCommit=null;do _c();while(xe!==0);if((Ht&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=lf,Jh(e,a,f,_,E,C),e===te&&(Nt=te=null,Ot=0),Fa=i,Ls=e,es=a,gd=f,yd=h,a_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,IS(ms,function(){return A_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=nt.p,nt.p=2,_=Ht,Ht|=4;try{gS(e,i,a)}finally{Ht=_,nt.p=h,Q.T=o}}xe=1,__(),v_(),E_()}}function __(){if(xe===1){xe=0;var e=Ls,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{Jy(i,e);var f=Vd,_=sg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&ig(E.ownerDocument.documentElement,E)){if(C!==null&&nf(E)){var j=C.start,G=C.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,gt=Math.min(C.start,ct),Jt=C.end===void 0?gt:Math.min(C.end,ct);!H.extend&&gt>Jt&&(_=Jt,Jt=gt,gt=_);var U=ng(E,gt),V=ng(E,Jt);if(U&&V&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var z=X.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),gt>Jt?(H.addRange(z),H.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),H.addRange(z))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Dc=!!Od,Vd=Od=null}finally{Ht=h,nt.p=o,Q.T=a}}e.current=i,xe=2}}function v_(){if(xe===2){xe=0;var e=Ls,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{Ky(e,i.alternate,i)}finally{Ht=h,nt.p=o,Q.T=a}}xe=3}}function E_(){if(xe===4||xe===3){xe=0,lu();var e=Ls,i=Fa,a=es,o=a_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Fa=Ls=null,T_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ks=null),Pi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Q.T,h=nt.p,nt.p=2,Q.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{Q.T=i,nt.p=h}}(es&3)!==0&&_c(),wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===_d?_l++:(_l=0,_d=e):_l=0,vl(0)}}function T_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function _c(){return __(),v_(),E_(),A_()}function A_(){if(xe!==5)return!1;var e=Ls,i=gd;gd=0;var a=Pi(es),o=Q.T,h=nt.p;try{nt.p=32>a?32:a,Q.T=null,a=yd,yd=null;var f=Ls,_=es;if(xe=0,Fa=Ls=null,es=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,i_(f.current),t_(f,f.current,_,a),Ht=E,vl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{nt.p=h,Q.T=o,T_(e,i)}}function S_(e,i,a){i=Vn(a,i),i=$f(e.stateNode,i,2),e=Ds(e,i,2),e!==null&&(vr(e,2),wi(e))}function Yt(e,i,a){if(e.tag===3)S_(e,e,a);else for(;i!==null;){if(i.tag===3){S_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ks===null||!ks.has(o))){e=Vn(a,e),a=by(2),o=Ds(i,a,2),o!==null&&(wy(a,o,i,e),vr(o,2),wi(o));break}}i=i.return}}function Td(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new vS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(dd=!0,h.add(a),e=bS.bind(null,e,i,a),i.then(e,e))}function bS(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Ot&a)===a&&(ce===4||ce===3&&(Ot&62914560)===Ot&&300>tn()-fc?(Ht&2)===0&&Ga(e,0):md|=a,Ha===Ot&&(Ha=0)),wi(e)}function b_(e,i){i===0&&(i=mu()),e=Mr(e,i),e!==null&&(vr(e,i),wi(e))}function wS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),b_(e,a)}function RS(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),b_(e,a)}function IS(e,i){return Me(e,i)}var vc=null,Ka=null,Ad=!1,Ec=!1,Sd=!1,zs=0;function wi(e){e!==Ka&&e.next===null&&(Ka===null?vc=Ka=e:Ka=Ka.next=e),Ec=!0,Ad||(Ad=!0,NS())}function vl(e,i){if(!Sd&&Ec){Sd=!0;do for(var a=!1,o=vc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,C_(o,f))}else f=Ot,f=oi(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,C_(o,f));o=o.next}while(a);Sd=!1}}function CS(){w_()}function w_(){Ec=Ad=!1;var e=0;zs!==0&&zS()&&(e=zs);for(var i=tn(),a=null,o=vc;o!==null;){var h=o.next,f=R_(o,i);f===0?(o.next=null,a===null?vc=h:a.next=h,h===null&&(Ka=a)):(a=o,(e!==0||(f&3)!==0)&&(Ec=!0)),o=h}xe!==0&&xe!==5||vl(e),zs!==0&&(zs=0)}function R_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-de(f),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=Zh(E,i)):C<=i&&(e.expiredLanes|=E),f&=~E}if(i=te,a=Ot,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ds(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&ds(o),Pi(a)){case 2:case 8:a=No;break;case 32:a=ms;break;case 268435456:a=uu;break;default:a=ms}return o=I_.bind(null,e),a=Me(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&ds(o),e.callbackPriority=2,e.callbackNode=null,2}function I_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_c()&&e.callbackNode!==a)return null;var o=Ot;return o=oi(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(l_(e,o,i),R_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?I_.bind(null,e):null)}function C_(e,i){if(_c())return null;l_(e,i,!0)}function NS(){BS(function(){(Ht&6)!==0?Me(Co,CS):w_()})}function bd(){if(zs===0){var e=Va;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),zs=e}return zs}function N_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function D_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function DS(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=N_((h[ke]||null).action),_=o.submitter;_&&(i=(i=_[ke]||null)?N_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zs!==0){var C=_?D_(h,_):new FormData(h);Ff(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=_?D_(h,_):new FormData(h),Ff(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var wd=0;wd<of.length;wd++){var Rd=of[wd],OS=Rd.toLowerCase(),VS=Rd[0].toUpperCase()+Rd.slice(1);Zn(OS,"on"+VS)}Zn(og,"onAnimationEnd"),Zn(lg,"onAnimationIteration"),Zn(ug,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(YA,"onTransitionRun"),Zn(XA,"onTransitionStart"),Zn($A,"onTransitionCancel"),Zn(cg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function O_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Uu(G)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Uu(G)}h.currentTarget=null,f=C}}}}function Dt(e,i){var a=i[fa];a===void 0&&(a=i[fa]=new Set);var o=e+"__bubble";a.has(o)||(V_(i,e,2,!1),a.add(o))}function Id(e,i,a){var o=0;i&&(o|=4),V_(a,e,o,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[Tc]){e[Tc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||Id(a,!1,e),Id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,Id("selectionchange",!1,i))}}function V_(e,i,a,o){switch(ov(i)){case 2:var h=o1;break;case 8:h=l1;break;default:h=Hd}a=h.bind(null,i,a,e),h=void 0,!wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Nd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=hi(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue t}E=E.parentNode}}o=o.return}Es(function(){var j=f,G=Cn(a),X=[];t:{var B=hg.get(e);if(B!==void 0){var H=_i,ct=e;switch(e){case"keypress":if(Ir(a)===0)break t;case"keydown":case"keyup":H=Vu;break;case"focusin":ct="focus",H=Nr;break;case"focusout":ct="blur",H=Nr;break;case"beforeblur":case"afterblur":H=Nr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case og:case lg:case ug:H=wu;break;case cg:H=A;break;case"scroll":case"scrollend":H=Fo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Bi;break;case"toggle":case"beforetoggle":H=wt}var gt=(i&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),U=gt?B!==null?B+"Capture":null:B;gt=[];for(var V=j,z;V!==null;){var K=V;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=Kn(V,U),K!=null&&gt.push(Tl(V,K,z))),Jt)break;V=V.return}0<gt.length&&(B=new H(B,ct,null,a,G),X.push({event:B,listeners:gt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Bo&&(ct=a.relatedTarget||a.fromElement)&&(hi(ct)||ct[ui]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=j,ct=ct?hi(ct):null,ct!==null&&(Jt=u(ct),gt=ct.tag,ct!==Jt||gt!==5&&gt!==27&&gt!==6)&&(ct=null)):(H=null,ct=j),H!==ct)){if(gt=Go,K="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Bi,K="onPointerLeave",U="onPointerEnter",V="pointer"),Jt=H==null?B:pn(H),z=ct==null?B:pn(ct),B=new gt(K,V+"leave",H,a,G),B.target=Jt,B.relatedTarget=z,K=null,hi(G)===j&&(gt=new gt(U,V+"enter",ct,a,G),gt.target=z,gt.relatedTarget=Jt,K=gt),Jt=K,H&&ct)e:{for(gt=xS,U=H,V=ct,z=0,K=U;K;K=gt(K))z++;K=0;for(var ft=V;ft;ft=gt(ft))K++;for(;0<z-K;)U=gt(U),z--;for(;0<K-z;)V=gt(V),K--;for(;z--;){if(U===V||V!==null&&U===V.alternate){gt=U;break e}U=gt(U),V=gt(V)}gt=null}else gt=null;H!==null&&M_(X,B,H,gt,!1),ct!==null&&Jt!==null&&M_(X,Jt,ct,gt,!0)}}t:{if(B=j?pn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var jt=$p;else if(Yp(B))if(Zp)jt=GA;else{jt=HA;var ht=qA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ga(j.elementType)&&(jt=$p):jt=FA;if(jt&&(jt=jt(e,j))){Xp(X,jt,a,G);break t}ht&&ht(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Po(B,"number",B.value)}switch(ht=j?pn(j):window,e){case"focusin":(Yp(ht)||ht.contentEditable==="true")&&(ba=ht,sf=j,$o=null);break;case"focusout":$o=sf=ba=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,rg(X,a,G);break;case"selectionchange":if(KA)break;case"keydown":case"keyup":rg(X,a,G)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Sa?Dr(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ti&&a.locale!=="ko"&&(Sa||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Sa&&(Ct=Ho()):(yi=G,qo="value"in yi?yi.value:yi.textContent,Sa=!0)),ht=Ac(j,Vt),0<ht.length&&(Vt=new Ei(Vt,e,null,a,G),X.push({event:Vt,listeners:ht}),Ct?Vt.data=Ct:(Ct=Aa(a),Ct!==null&&(Vt.data=Ct)))),(Ct=Dn?PA(e,a):zA(e,a))&&(Vt=Ac(j,"onBeforeInput"),0<Vt.length&&(ht=new Ei("onBeforeInput","beforeinput",null,a,G),X.push({event:ht,listeners:Vt}),ht.data=Ct)),DS(X,e,j,a,G)}O_(X,i)})}function Tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ac(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(e,a),h!=null&&o.unshift(Tl(e,h,f)),h=Kn(e,i),h!=null&&o.push(Tl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function xS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function M_(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Kn(a,f),j!=null&&_.unshift(Tl(a,j,C))):h||(j=Kn(a,f),j!=null&&_.push(Tl(a,j,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var US=/\r\n?/g,kS=/\u0000|\uFFFD/g;function x_(e){return(typeof e=="string"?e:""+e).replace(US,`
`).replace(kS,"")}function U_(e,i){return i=x_(i),x_(e)===i}function Zt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&rn(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,o);break;case"style":jo(e,o,f);break;case"data":if(i!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ya(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ya(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ya(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ma(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,ma(e,a,o))}}function Dd(e,i,a,o,h,f){switch(a){case"style":jo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ma(e,a,o)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,f,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),o&&Zt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=f=_=h=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Zt(e,i,o,G,a,null)}}vu(e,f,E,C,j,_,h,!1);return;case"select":Dt("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Zt(e,i,h,E,a,null)}i=f,a=_,e.multiple=!!o,i!=null?gs(e,!!o,i,!1):a!=null&&gs(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,i,_,E,a,null)}ys(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,i,C,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<El.length;o++)Dt(El[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,j,o,a,null)}return;default:if(ga(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Dd(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,i,E,o,a,null))}function LS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,C=null,j=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||Zt(e,i,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&Zt(e,i,B,H,o,X)}}pa(e,_,E,C,j,G,f,h);return;case"select":H=_=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||Zt(e,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==C&&Zt(e,i,h,f,o,C)}i=E,a=_,o=H,B!=null?gs(e,!!a,B,!1):!!o!=!!a&&(i!=null?gs(e,!!a,i,!0):gs(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,i,_,h,o,f)}Eu(e,B,H);return;case"option":for(var ct in a)if(B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Zt(e,i,ct,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(e,i,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!o.hasOwnProperty(gt)&&Zt(e,i,gt,null,o,B);for(j in o)if(B=o[j],H=a[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Zt(e,i,j,B,o,H)}return;default:if(ga(i)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!o.hasOwnProperty(Jt)&&Dd(e,i,Jt,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Dd(e,i,G,B,o,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&Zt(e,i,U,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||Zt(e,i,X,B,o,H)}function k_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&k_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],j=C.startTime;if(j>E)break;var G=C.transferSize,X=C.initiatorType;G&&k_(X)&&(C=C.responseEnd,_+=G*(C<E?1:(E-j)/(C-j)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Od=null,Vd=null;function Sc(e){return e.nodeType===9?e:e.ownerDocument}function L_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Md(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=null;function zS(){var e=window.event;return e&&e.type==="popstate"?e===xd?!1:(xd=e,!0):(xd=null,!1)}var z_=typeof setTimeout=="function"?setTimeout:void 0,jS=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(e){return j_.resolve(null).then(e).catch(qS)}:z_;function qS(e){setTimeout(function(){throw e})}function js(e){return e==="head"}function B_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Za(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Al(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Al(e.ownerDocument.body);a=h}while(a);Za(i)}function q_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ud(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function HS(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function FS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function H_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$?"||e.data==="$~"}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function GS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Pd=null;function F_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function G_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Q_(e,i,a){switch(i=Sc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);da(e)}var Pn=new Map,K_=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=nt.d;nt.d={f:QS,r:KS,D:YS,C:XS,L:$S,m:ZS,X:WS,S:JS,M:t1};function QS(){var e=ns.f(),i=pc();return e||i}function KS(e){var i=In(e);i!==null&&i.tag===5&&i.type==="form"?cy(i):ns.r(e)}var Ya=typeof document>"u"?null:document;function Y_(e,i,a){var o=Ya;if(o&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K_.has(h)||(K_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ge(i,"link",e),Se(i),o.head.appendChild(i)))}}function YS(e){ns.D(e),Y_("dns-prefetch",e,null)}function XS(e,i){ns.C(e,i),Y_("preconnect",e,i)}function $S(e,i,a){ns.L(e,i,a);var o=Ya;if(o&&e&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(i){case"style":f=Xa(e);break;case"script":f=$a(e)}Pn.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Sl(f))||i==="script"&&o.querySelector(bl(f))||(i=o.createElement("link"),Ge(i,"link",e),Se(i),o.head.appendChild(i)))}}function ZS(e,i){ns.m(e,i);var a=Ya;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(e)}if(!Pn.has(f)&&(e=S({rel:"modulepreload",href:e},i),Pn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Se(o),a.head.appendChild(o)}}}function JS(e,i,a){ns.S(e,i,a);var o=Ya;if(o&&e){var h=fi(o).hoistableStyles,f=Xa(e);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Sl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(f))&&zd(e,a);var C=_=o.createElement("link");Se(C),Ge(C,"link",e),C._p=new Promise(function(j,G){C.onload=j,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function WS(e,i){ns.X(e,i);var a=Ya;if(a&&e){var o=fi(a).hoistableScripts,h=$a(e),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(e=S({src:e,async:!0},i),(i=Pn.get(h))&&jd(e,i),f=a.createElement("script"),Se(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function t1(e,i){ns.M(e,i);var a=Ya;if(a&&e){var o=fi(a).hoistableScripts,h=$a(e),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&jd(e,i),f=a.createElement("script"),Se(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function X_(e,i,a,o){var h=(h=It.current)?bc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=fi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xa(a.href);var f=fi(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Sl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),f||e1(h,e,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(a),a=fi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Xa(e){return'href="'+sn(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function $_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function e1(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ge(i,"link",a),Se(i),e.head.appendChild(i))}function $a(e){return'[src="'+sn(e)+'"]'}function bl(e){return"script[async]"+e}function Z_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,Se(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ge(o,"style",h),wc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Xa(a.href);var f=e.querySelector(Sl(h));if(f)return i.state.loading|=4,i.instance=f,Se(f),f;o=$_(a),(h=Pn.get(h))&&zd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var _=f;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Ge(f,"link",o),i.state.loading|=4,wc(f,a.precedence,e),i.instance=f;case"script":return f=$a(a.src),(h=e.querySelector(bl(f)))?(i.instance=h,Se(h),h):(o=a,(h=Pn.get(f))&&(o=S({},a),jd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ge(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,wc(o,a.precedence,e));return i.instance}function wc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rc=null;function J_(e,i,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ci]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function W_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function n1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function i1(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(o.href),f=i.querySelector(Sl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ic.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Se(f);return}f=i.ownerDocument||i,o=$_(o),(h=Pn.get(h))&&zd(o,h),f=f.createElement("link"),Se(f);var _=f;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ic.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Bd=0;function s1(e,i){return e.stylesheets&&e.count===0&&Nc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Nc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Bd===0&&(Bd=62500*PS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Nc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Bd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function Nc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,i.forEach(r1,e),Cc=null,Ic.call(e))}function r1(e,i){if(!(i.state.loading&4)){var a=Cc.get(e);if(a)var o=a.get(null);else{a=new Map,Cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Ic.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var wl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function a1(e,i,a,o,h,f,_,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ev(e,i,a,o,h,f,_,E,C,j,G,X){return e=new a1(e,i,a,_,C,j,G,X,E),i=1,f===!0&&(i|=24),f=_n(3,null,null,i),e.current=f,f.stateNode=e,i=Ef(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},bf(f),e}function nv(e){return e?(e=Ia,e):Ia}function iv(e,i,a,o,h,f){h=nv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ns(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ds(e,o,i),a!==null&&(cn(a,e,i),il(a,e,i))}function sv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function qd(e,i){sv(e,i),(e=e.alternate)&&sv(e,i)}function rv(e){if(e.tag===13||e.tag===31){var i=Mr(e,67108864);i!==null&&cn(i,e,67108864),qd(e,67108864)}}function av(e){if(e.tag===13||e.tag===31){var i=Sn();i=Tr(i);var a=Mr(e,i);a!==null&&cn(a,e,i),qd(e,i)}}var Dc=!0;function o1(e,i,a,o){var h=Q.T;Q.T=null;var f=nt.p;try{nt.p=2,Hd(e,i,a,o)}finally{nt.p=f,Q.T=h}}function l1(e,i,a,o){var h=Q.T;Q.T=null;var f=nt.p;try{nt.p=8,Hd(e,i,a,o)}finally{nt.p=f,Q.T=h}}function Hd(e,i,a,o){if(Dc){var h=Fd(o);if(h===null)Nd(e,i,o,Oc,a),lv(e,o);else if(c1(h,e,i,a,o))o.stopPropagation();else if(lv(e,o),i&4&&-1<u1.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ai(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-de(_);E.entanglements[1]|=C,_&=~C}wi(f),(Ht&6)===0&&(dc=tn()+500,vl(0))}}break;case 31:case 13:E=Mr(f,2),E!==null&&cn(E,f,2),pc(),qd(f,2)}if(f=Fd(o),f===null&&Nd(e,i,o,Oc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Nd(e,i,o,null,a)}}function Fd(e){return e=Cn(e),Gd(e)}var Oc=null;function Gd(e){if(Oc=null,e=hi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Oc=e,null}function ov(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Co:return 2;case No:return 8;case ms:case $h:return 32;case uu:return 268435456;default:return 32}default:return 32}}var Qd=!1,Bs=null,qs=null,Hs=null,Rl=new Map,Il=new Map,Fs=[],u1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(e,i){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Cl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&rv(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function c1(e,i,a,o,h){switch(i){case"focusin":return Bs=Cl(Bs,e,i,a,o,h),!0;case"dragenter":return qs=Cl(qs,e,i,a,o,h),!0;case"mouseover":return Hs=Cl(Hs,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Cl(Rl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,Cl(Il.get(f)||null,e,i,a,o,h)),!0}return!1}function uv(e){var i=hi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){av(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){av(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Fd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Bo=o,a.target.dispatchEvent(o),Bo=null}else return i=In(a),i!==null&&rv(i),e.blockedOn=a,!1;i.shift()}return!0}function cv(e,i,a){Vc(e)&&a.delete(i)}function h1(){Qd=!1,Bs!==null&&Vc(Bs)&&(Bs=null),qs!==null&&Vc(qs)&&(qs=null),Hs!==null&&Vc(Hs)&&(Hs=null),Rl.forEach(cv),Il.forEach(cv)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Qd||(Qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,h1)))}var xc=null;function hv(e){xc!==e&&(xc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Gd(o||a)===null)continue;break}var f=In(a);f!==null&&(e.splice(i,3),i-=3,Ff(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Za(e){function i(C){return Mc(C,e)}Bs!==null&&Mc(Bs,e),qs!==null&&Mc(qs,e),Hs!==null&&Mc(Hs,e),Rl.forEach(i),Il.forEach(i);for(var a=0;a<Fs.length;a++){var o=Fs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)uv(a),a.blockedOn===null&&Fs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[ke]||null;if(typeof f=="function")_||hv(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[ke]||null)E=_.formAction;else if(Gd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),hv(a)}}}function fv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}Uc.prototype.render=Kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Sn();iv(a,o,e,i,null,null)},Uc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;iv(e.current,2,null,e,null,null),pc(),i[ui]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var i=pu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Fs.length&&i!==0&&i<Fs[a].priority;a++);Fs.splice(a,0,e),a===0&&uv(e)}};var dv=t.version;if(dv!=="19.2.0")throw Error(r(527,dv,"19.2.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var f1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{qn=kc.inject(f1),je=kc}catch{}}return Dl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=Ey,f=Ty,_=Ay;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=ev(e,1,!1,null,null,a,o,null,h,f,_,fv),e[ui]=i.current,Cd(e),new Kd(i)},Dl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Ey,_=Ty,E=Ay,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=ev(e,1,!0,i,a??null,o,h,C,f,_,E,fv),i.context=nv(null),a=i.current,o=Sn(),o=Tr(o),h=Ns(o),h.callback=null,Ds(a,h,o),a=o,i.current.lanes=a,vr(i,a),wi(i),e[ui]=i.current,Cd(e),new Uc(i)},Dl.version="19.2.0",Dl}var Sv;function S1(){if(Sv)return $d.exports;Sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),$d.exports=A1(),$d.exports}var b1=S1();const w1=()=>{};var bv={};const oT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},R1=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let w=(p&15)<<2|y>>6,P=y&63;g||(P=64,d||(w=64)),r.push(n[T],n[S],n[w],n[P])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(oT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):R1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||S==null)throw new I1;const w=u<<2|p>>4;if(r.push(w),y!==64){const P=p<<4&240|y>>2;if(r.push(P),S!==64){const F=y<<6&192|S;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class I1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C1=function(s){const t=oT(s);return lT.encodeByteArray(t,!0)},th=function(s){return C1(s).replace(/\./g,"")},uT=function(s){try{return lT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function N1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const D1=()=>N1().__FIREBASE_DEFAULTS__,O1=()=>{if(typeof process>"u"||typeof bv>"u")return;const s=bv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},V1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&uT(s[1]);return t&&JSON.parse(t)},Rh=()=>{try{return w1()||D1()||O1()||V1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},cT=s=>Rh()?.emulatorHosts?.[s],hT=s=>{const t=cT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},fT=()=>Rh()?.config,dT=s=>Rh()?.[`_${s}`];class M1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function ia(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gm(s){return(await fetch(s,{credentials:"include"})).ok}function mT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[th(JSON.stringify(n)),th(JSON.stringify(d)),""].join(".")}const Ul={};function x1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?s.emulator.push(t):s.prod.push(t);return s}function U1(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let wv=!1;function Qm(s,t){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||Ul[s]===t||Ul[s]||wv)return;Ul[s]=t;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=x1().prod.length>0;function d(){const w=document.getElementById(r);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{wv=!0,d()},w}function T(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=U1(r),P=n("text"),F=document.getElementById(P)||document.createElement("span"),W=n("learnmore"),Z=document.getElementById(W)||document.createElement("a"),st=n("preprendIcon"),ot=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const tt=w.element;p(tt),T(Z,W);const ut=y();g(ot,st),tt.append(ot,F,Z,ut),document.body.appendChild(tt)}u?(F.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function L1(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function j1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B1(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function q1(){return!L1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H1(){try{return typeof indexedDB=="object"}catch{return!1}}function F1(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const G1="FirebaseError";class ki extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=G1,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?Q1(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ki(l,p,r)}}function Q1(s,t){return s.replace(K1,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const K1=/\{\$([^}]+)}/g;function Y1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function as(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(Rv(u)&&Rv(d)){if(!as(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function Rv(s){return s!==null&&typeof s=="object"}function $l(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function X1(s,t){const n=new $1(s,t);return n.subscribe.bind(n)}class $1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=tm),l.error===void 0&&(l.error=tm),l.complete===void 0&&(l.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function tm(){}function ve(s){return s&&s._delegate?s._delegate:s}class nr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qr="[DEFAULT]";class J1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new M1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tb(t))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qr){return this.instances.has(t)}getOptions(t=Qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qr){return this.component?this.component.multipleInstances?t:Qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W1(s){return s===Qr?void 0:s}function tb(s){return s.instantiationMode==="EAGER"}class eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new J1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const nb={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},ib=Mt.INFO,sb={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},rb=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=sb[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Km{constructor(t){this.name=t,this._logLevel=ib,this._logHandler=rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const ab=(s,t)=>t.some(n=>s instanceof n);let Iv,Cv;function ob(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lb(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,_m=new WeakMap,gT=new WeakMap,em=new WeakMap,Ym=new WeakMap;function ub(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Js(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&pT.set(n,s)}).catch(()=>{}),Ym.set(t,s),t}function cb(s){if(_m.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});_m.set(s,t)}let vm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return _m.get(s);if(t==="objectStoreNames")return s.objectStoreNames||gT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hb(s){vm=s(vm)}function fb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(nm(this),t,...n);return gT.set(r,t.sort?t.sort():[t]),Js(r)}:lb().includes(s)?function(...t){return s.apply(nm(this),t),Js(pT.get(this))}:function(...t){return Js(s.apply(nm(this),t))}}function db(s){return typeof s=="function"?fb(s):(s instanceof IDBTransaction&&cb(s),ab(s,ob())?new Proxy(s,vm):s)}function Js(s){if(s instanceof IDBRequest)return ub(s);if(em.has(s))return em.get(s);const t=db(s);return t!==s&&(em.set(s,t),Ym.set(t,s)),t}const nm=s=>Ym.get(s);function mb(s,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),p=Js(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Js(d.result),g.oldVersion,g.newVersion,Js(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const pb=["get","getKey","getAll","getAllKeys","count"],gb=["put","add","delete","clear"],im=new Map;function Nv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(im.get(t))return im.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=gb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||pb.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return im.set(t,u),u}hb(s=>({...s,get:(t,n,r)=>Nv(t,n)||s.get(t,n,r),has:(t,n)=>!!Nv(t,n)||s.has(t,n)}));class yb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_b(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _b(s){return s.getComponent()?.type==="VERSION"}const Em="@firebase/app",Dv="0.14.5";const os=new Km("@firebase/app"),vb="@firebase/app-compat",Eb="@firebase/analytics-compat",Tb="@firebase/analytics",Ab="@firebase/app-check-compat",Sb="@firebase/app-check",bb="@firebase/auth",wb="@firebase/auth-compat",Rb="@firebase/database",Ib="@firebase/data-connect",Cb="@firebase/database-compat",Nb="@firebase/functions",Db="@firebase/functions-compat",Ob="@firebase/installations",Vb="@firebase/installations-compat",Mb="@firebase/messaging",xb="@firebase/messaging-compat",Ub="@firebase/performance",kb="@firebase/performance-compat",Lb="@firebase/remote-config",Pb="@firebase/remote-config-compat",zb="@firebase/storage",jb="@firebase/storage-compat",Bb="@firebase/firestore",qb="@firebase/ai",Hb="@firebase/firestore-compat",Fb="firebase",Gb="12.5.0";const Tm="[DEFAULT]",Qb={[Em]:"fire-core",[vb]:"fire-core-compat",[Tb]:"fire-analytics",[Eb]:"fire-analytics-compat",[Sb]:"fire-app-check",[Ab]:"fire-app-check-compat",[bb]:"fire-auth",[wb]:"fire-auth-compat",[Rb]:"fire-rtdb",[Ib]:"fire-data-connect",[Cb]:"fire-rtdb-compat",[Nb]:"fire-fn",[Db]:"fire-fn-compat",[Ob]:"fire-iid",[Vb]:"fire-iid-compat",[Mb]:"fire-fcm",[xb]:"fire-fcm-compat",[Ub]:"fire-perf",[kb]:"fire-perf-compat",[Lb]:"fire-rc",[Pb]:"fire-rc-compat",[zb]:"fire-gcs",[jb]:"fire-gcs-compat",[Bb]:"fire-fst",[Hb]:"fire-fst-compat",[qb]:"fire-vertex","fire-js":"fire-js",[Fb]:"fire-js-all"};const eh=new Map,Kb=new Map,Am=new Map;function Ov(s,t){try{s.container.addComponent(t)}catch(n){os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Jr(s){const t=s.name;if(Am.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;Am.set(t,s);for(const n of eh.values())Ov(n,s);for(const n of Kb.values())Ov(n,s);return!0}function Ih(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function ti(s){return s==null?!1:s.settings!==void 0}const Yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Xl("app","Firebase",Yb);class Xb{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const sa=Gb;function yT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:Tm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ws.create("bad-app-name",{appName:String(l)});if(n||(n=fT()),!n)throw Ws.create("no-options");const u=eh.get(l);if(u){if(as(n,u.options)&&as(r,u.config))return u;throw Ws.create("duplicate-app",{appName:l})}const d=new eb(l);for(const g of Am.values())d.addComponent(g);const p=new Xb(n,r,d);return eh.set(l,p),p}function Xm(s=Tm){const t=eh.get(s);if(!t&&s===Tm&&fT())return yT();if(!t)throw Ws.create("no-app",{appName:s});return t}function Ii(s,t,n){let r=Qb[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}Jr(new nr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const $b="firebase-heartbeat-database",Zb=1,Bl="firebase-heartbeat-store";let sm=null;function _T(){return sm||(sm=mb($b,Zb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),sm}async function Jb(s){try{const n=(await _T()).transaction(Bl),r=await n.objectStore(Bl).get(vT(s));return await n.done,r}catch(t){if(t instanceof ki)os.warn(t.message);else{const n=Ws.create("idb-get",{originalErrorMessage:t?.message});os.warn(n.message)}}}async function Vv(s,t){try{const r=(await _T()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(t,vT(s)),await r.done}catch(n){if(n instanceof ki)os.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n?.message});os.warn(r.message)}}}function vT(s){return`${s.name}!${s.options.appId}`}const Wb=1024,tw=30;class ew{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>tw){const l=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mv(),{heartbeatsToSend:n,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),l=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function nw(s,t=Wb){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),xv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),xv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H1()?F1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function xv(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function rw(s){Jr(new nr("platform-logger",t=>new yb(t),"PRIVATE")),Jr(new nr("heartbeat",t=>new ew(t),"PRIVATE")),Ii(Em,Dv,s),Ii(Em,Dv,"esm2020"),Ii("fire-js","")}rw("");var aw="firebase",ow="12.5.0";Ii(aw,ow,"app");function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lw=ET,TT=new Xl("auth","Firebase",ET());const nh=new Km("@firebase/auth");function uw(s,...t){nh.logLevel<=Mt.WARN&&nh.warn(`Auth (${sa}): ${s}`,...t)}function Fc(s,...t){nh.logLevel<=Mt.ERROR&&nh.error(`Auth (${sa}): ${s}`,...t)}function ls(s,...t){throw $m(s,...t)}function Ci(s,...t){return $m(s,...t)}function AT(s,t,n){const r={...lw(),[t]:n};return new Xl("auth","Firebase",r).create(t,{appName:s.name})}function Xr(s){return AT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return TT.create(s,...t)}function vt(s,t,...n){if(!s)throw $m(t,...n)}function is(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Fc(t),new Error(t)}function us(s,t){s||is(t)}function Sm(){return typeof self<"u"&&self.location?.href||""}function cw(){return Uv()==="http:"||Uv()==="https:"}function Uv(){return typeof self<"u"&&self.location?.protocol||null}function hw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cw()||z1()||"connection"in navigator)?navigator.onLine:!0}function fw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,us(n>t,"Short delay should be less than long delay!"),this.isMobile=k1()||j1()}get(){return hw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zm(s,t){us(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ST{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pw=new Zl(3e4,6e4);function Jm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function _o(s,t,n,r,l={}){return bT(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const p=$l({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:g,...u};return P1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ia(s.emulatorConfig.host)&&(y.credentials="include"),ST.fetch()(await wT(s,s.config.apiHost,n,p),y)})}async function bT(s,t,n){s._canInitEmulator=!1;const r={...dw,...t};try{const l=new yw(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Lc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw AT(s,T,y);ls(s,T)}}catch(l){if(l instanceof ki)throw l;ls(s,"network-request-failed",{message:String(l)})}}async function gw(s,t,n,r,l={}){const u=await _o(s,t,n,r,l);return"mfaPendingCredential"in u&&ls(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function wT(s,t,n,r){const l=`${t}${n}?${r}`,u=s,d=u.config.emulator?Zm(s.config,l):`${s.config.apiScheme}://${l}`;return mw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class yw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),pw.get())})}}function Lc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ci(s,t,r);return l.customData._tokenResponse=n,l}async function _w(s,t){return _o(s,"POST","/v1/accounts:delete",t)}async function ih(s,t){return _o(s,"POST","/v1/accounts:lookup",t)}function kl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vw(s,t=!1){const n=ve(s),r=await n.getIdToken(t),l=Wm(r);vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:kl(rm(l.auth_time)),issuedAtTime:kl(rm(l.iat)),expirationTime:kl(rm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Wm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=uT(n);return l?JSON.parse(l):(Fc("Failed to decode base64 JWT payload"),null)}catch(l){return Fc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function kv(s){const t=Wm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ql(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ki&&Ew(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Ew({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Tw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const t=s.auth,n=await s.getIdToken(),r=await ql(s,ih(t,{idToken:n}));vt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?RT(l.providerUserInfo):[],d=Sw(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function Aw(s){const t=ve(s);await sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Sw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function RT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bw(s,t){const n=await bT(s,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await wT(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&ia(s.emulatorConfig.host)&&(g.credentials="include"),ST.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ww(s,t){return _o(s,"POST","/v2/accounts:revokeToken",Jm(s,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):kv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=kv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await bw(t,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new io;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(vt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return is("not implemented")}}function Qs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await ql(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vw(this,t)}reload(){return Aw(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Xr(this.auth));const t=await this.getIdToken();return await ql(this,_w(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:P,providerData:F,stsTokenManager:W}=n;vt(S&&W,t,"internal-error");const Z=io.fromJSON(this.name,W);vt(typeof S=="string",t,"internal-error"),Qs(r,t.name),Qs(l,t.name),vt(typeof w=="boolean",t,"internal-error"),vt(typeof P=="boolean",t,"internal-error"),Qs(u,t.name),Qs(d,t.name),Qs(p,t.name),Qs(g,t.name),Qs(y,t.name),Qs(T,t.name);const st=new ei({uid:S,auth:t,email:l,emailVerified:w,displayName:r,isAnonymous:P,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:T});return F&&Array.isArray(F)&&(st.providerData=F.map(ot=>({...ot}))),g&&(st._redirectEventId=g),st}static async _fromIdTokenResponse(t,n,r=!1){const l=new io;l.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await sh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];vt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?RT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new io;p.updateFromIdToken(r);const g=new ei({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Lv=new Map;function ss(s){us(s instanceof Function,"Expected a class definition");let t=Lv.get(s);return t?(us(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Lv.set(s,t),t)}class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}IT.type="NONE";const Pv=IT;function Gc(s,t,n){return`firebase:${s}:${t}:${n}`}class so{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Gc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ih(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new so(ss(Pv),t,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||ss(Pv);const d=Gc(r,t.config.apiKey,t.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const w=await ih(t,{idToken:T}).catch(()=>{});if(!w)break;S=await ei._fromGetAccountInfoResponse(t,w,T)}else S=ei._fromJSON(t,T);y!==u&&(p=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new so(u,t,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new so(u,t,r))}}function zv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MT(t))return"Blackberry";if(xT(t))return"Webos";if(NT(t))return"Safari";if((t.includes("chrome/")||DT(t))&&!t.includes("edge/"))return"Chrome";if(VT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function CT(s=We()){return/firefox\//i.test(s)}function NT(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DT(s=We()){return/crios\//i.test(s)}function OT(s=We()){return/iemobile/i.test(s)}function VT(s=We()){return/android/i.test(s)}function MT(s=We()){return/blackberry/i.test(s)}function xT(s=We()){return/webos/i.test(s)}function tp(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Rw(s=We()){return tp(s)&&!!window.navigator?.standalone}function Iw(){return B1()&&document.documentMode===10}function UT(s=We()){return tp(s)||VT(s)||xT(s)||MT(s)||/windows phone/i.test(s)||OT(s)}function kT(s,t=[]){let n;switch(s){case"Browser":n=zv(We());break;case"Worker":n=`${zv(We())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}class Cw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((d,p)=>{try{const g=t(u);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Nw(s,t={}){return _o(s,"GET","/v2/passwordPolicy",Jm(s,t))}const Dw=6;class Ow{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Dw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Vw{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new Cw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ih(this,{idToken:t}),r=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await sh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Xr(this));const n=t?ve(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nw(this),n=new Ow(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ww(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ss(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=t.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&uw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ep(s){return ve(s)}class jv{constructor(t){this.auth=t,this.observer=null,this.addObserver=X1(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mw(s){np=s}function xw(s){return np.loadJS(s)}function Uw(){return np.gapiScript}function kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Lw(s,t){const n=Ih(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(as(u,t??{}))return l;ls(l,"already-initialized")}return n.initialize({options:t})}function Pw(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ss);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function zw(s,t,n){const r=ep(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=LT(t),{host:d,port:p}=jw(t),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(as(y,r.config.emulator)&&as(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,ia(d)?(Gm(`${u}//${d}${g}`),Qm("Auth",!0)):Bw()}function LT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function jw(s){const t=LT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Bv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Bv(d)}}}function Bv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Bw(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class PT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,n){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}async function ro(s,t){return gw(s,"POST","/v1/accounts:signInWithIdp",Jm(s,t))}const qw="http://localhost";class Wr extends PT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Wr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ro(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:qw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$l(n)}return t}}class zT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ks extends Jl{constructor(){super("facebook.com")}static credential(t){return Wr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class Ys extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Xs extends Jl{constructor(){super("github.com")}static credential(t){return Wr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends Jl{constructor(){super("twitter.com")}static credential(t,n){return Wr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";class oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const u=await ei._fromIdTokenResponse(t,r,l),d=qv(r);return new oo({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=qv(r);return new oo({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function qv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class rh extends ki{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new rh(t,n,r,l)}}function jT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,u,t,r):u})}async function Hw(s,t,n=!1){const r=await ql(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return oo._forOperation(s,"link",r)}async function Fw(s,t,n=!1){const{auth:r}=s;if(ti(r.app))return Promise.reject(Xr(r));const l="reauthenticate";try{const u=await ql(s,jT(r,l,t,s),n);vt(u.idToken,r,"internal-error");const d=Wm(u.idToken);vt(d,r,"internal-error");const{sub:p}=d;return vt(s.uid===p,r,"user-mismatch"),oo._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ls(r,"user-mismatch"),u}}async function Gw(s,t,n=!1){if(ti(s.app))return Promise.reject(Xr(s));const r="signIn",l=await jT(s,r,t),u=await oo._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}function Qw(s,t,n,r){return ve(s).onIdTokenChanged(t,n,r)}function Kw(s,t,n){return ve(s).beforeAuthStateChanged(t,n)}function Yw(s,t,n,r){return ve(s).onAuthStateChanged(t,n,r)}function BT(s){return ve(s).signOut()}const ah="__sak";class qT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xw=1e3,$w=10;class HT extends qT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);Iw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,$w):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}HT.type="LOCAL";const Zw=HT;class FT extends qT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}FT.type="SESSION";const GT=FT;function Jw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new Ch(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await Jw(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function ip(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class Ww{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=ip("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function tR(s){Ni().location.href=s}function QT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function eR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nR(){return navigator?.serviceWorker?.controller||null}function iR(){return QT()?self:null}const KT="firebaseLocalStorageDb",sR=1,oh="firebaseLocalStorage",YT="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(s,t){return s.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function rR(){const s=indexedDB.deleteDatabase(KT);return new Wl(s).toPromise()}function wm(){const s=indexedDB.open(KT,sR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(oh,{keyPath:YT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(oh)?t(r):(r.close(),await rR(),t(await wm()))})})}async function Hv(s,t,n){const r=Nh(s,!0).put({[YT]:t,value:n});return new Wl(r).toPromise()}async function aR(s,t){const n=Nh(s,!1).get(t),r=await new Wl(n).toPromise();return r===void 0?null:r.value}function Fv(s,t){const n=Nh(s,!0).delete(t);return new Wl(n).toPromise()}const oR=800,lR=3;class XT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>lR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(iR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eR(),!this.activeServiceWorker)return;this.sender=new Ww(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await Hv(t,ah,"1"),await Fv(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>aR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Nh(l,!1).getAll();return new Wl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XT.type="LOCAL";const uR=XT;new Zl(3e4,6e4);function cR(s,t){return t?ss(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class sp extends PT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hR(s){return Gw(s.auth,new sp(s),s.bypassAuthState)}function fR(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),Fw(n,new sp(s),s.bypassAuthState)}async function dR(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),Hw(n,new sp(s),s.bypassAuthState)}class $T{constructor(t,n,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hR;case"linkViaPopup":case"linkViaRedirect":return dR;case"reauthViaPopup":case"reauthViaRedirect":return fR;default:ls(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mR=new Zl(2e3,1e4);class no extends $T{constructor(t,n,r,l,u){super(t,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mR.get())};t()}}no.currentPopupAction=null;const pR="pendingRedirect",Qc=new Map;class gR extends $T{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const r=await yR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yR(s,t){const n=ER(t),r=vR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function _R(s,t){Qc.set(s._key(),t)}function vR(s){return ss(s._redirectPersistence)}function ER(s){return Gc(pR,s.config.apiKey,s.name)}async function TR(s,t,n=!1){if(ti(s.app))return Promise.reject(Xr(s));const r=ep(s),l=cR(r,t),d=await new gR(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const AR=600*1e3;class SR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!ZT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(t))}saveEventToCache(t){this.cachedEventUids.add(Gv(t)),this.lastProcessedEventTime=Date.now()}}function Gv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function ZT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function bR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZT(s);default:return!1}}async function wR(s,t={}){return _o(s,"GET","/v1/projects",t)}const RR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IR=/^https?/;async function CR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await wR(s);for(const n of t)try{if(NR(n))return}catch{}ls(s,"unauthorized-domain")}function NR(s){const t=Sm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!IR.test(n))return!1;if(RR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const DR=new Zl(3e4,6e4);function Qv(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function OR(s){return new Promise((t,n)=>{function r(){Qv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qv(),n(Ci(s,"network-request-failed"))},timeout:DR.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=kw("iframefcb");return Ni()[l]=()=>{gapi.load?r():n(Ci(s,"network-request-failed"))},xw(`${Uw()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Kc=null,t})}let Kc=null;function VR(s){return Kc=Kc||OR(s),Kc}const MR=new Zl(5e3,15e3),xR="__/auth/iframe",UR="emulator/auth/iframe",kR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PR(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Zm(t,UR):`https://${s.config.authDomain}/${xR}`,r={apiKey:t.apiKey,appName:s.name,v:sa},l=LR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${$l(r).slice(1)}`}async function zR(s){const t=await VR(s),n=Ni().gapi;return vt(n,s,"internal-error"),t.open({where:document.body,url:PR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ci(s,"network-request-failed"),p=Ni().setTimeout(()=>{u(d)},MR.get());function g(){Ni().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const jR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BR=500,qR=600,HR="_blank",FR="http://localhost";class Kv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GR(s,t,n,r=BR,l=qR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...jR,width:r.toString(),height:l.toString(),top:u,left:d},y=We().toLowerCase();n&&(p=DT(y)?HR:n),CT(y)&&(t=t||FR,g.scrollbars="yes");const T=Object.entries(g).reduce((w,[P,F])=>`${w}${P}=${F},`,"");if(Rw(y)&&p!=="_self")return QR(t||"",p),new Kv(null);const S=window.open(t||"",p,T);vt(S,s,"popup-blocked");try{S.focus()}catch{}return new Kv(S)}function QR(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const KR="__/auth/handler",YR="emulator/auth/handler",XR=encodeURIComponent("fac");async function Yv(s,t,n,r,l,u){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:sa,eventId:l};if(t instanceof zT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Y1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Jl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${XR}=${encodeURIComponent(g)}`:"";return`${$R(s)}?${$l(p).slice(1)}${y}`}function $R({config:s}){return s.emulator?Zm(s,YR):`https://${s.authDomain}/${KR}`}const am="webStorageSupport";class ZR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=TR,this._overrideRedirectResult=_R}async _openPopup(t,n,r,l){us(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Yv(t,n,r,Sm(),l);return GR(t,u,ip())}async _openRedirect(t,n,r,l){await this._originValidation(t);const u=await Yv(t,n,r,Sm(),l);return tR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(us(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await zR(t),r=new SR(t);return n.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(am,{type:am},l=>{const u=l?.[0]?.[am];u!==void 0&&n(!!u),ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UT()||NT()||tp()}}const JR=ZR;var Xv="@firebase/auth",$v="1.11.1";class WR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eI(s){Jr(new nr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(s)},y=new Vw(r,l,u,g);return Pw(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Jr(new nr("auth-internal",t=>{const n=ep(t.getProvider("auth").getImmediate());return(r=>new WR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(Xv,$v,tI(s)),Ii(Xv,$v,"esm2020")}const nI=300,iI=dT("authIdTokenMaxAge")||nI;let Zv=null;const sI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iI)return;const l=n?.token;Zv!==l&&(Zv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function rI(s=Xm()){const t=Ih(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Lw(s,{popupRedirectResolver:JR,persistence:[uR,Zw,GT]}),r=dT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=sI(u.toString());Kw(n,d,()=>d(n.currentUser)),Qw(n,p=>d(p))}}const l=cT("auth");return l&&zw(n,`http://${l}`),n}function aI(){return document.getElementsByTagName("head")?.[0]??document}Mw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=Ci("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",aI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eI("Browser");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,JT;(function(){var s;function t(D,b){function R(){}R.prototype=b.prototype,D.F=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(x,O,k){for(var I=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)I[Wt-2]=arguments[Wt];return b.prototype[O].apply(x,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,b,R){R||(R=0);const x=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)x[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;O<16;++O)x[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],O=D.g[2];let k=D.g[3],I;I=b+(k^R&(O^k))+x[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(O^b&(R^O))+x[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=O+(R^k&(b^R))+x[2]+606105819&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(b^O&(k^b))+x[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(k^R&(O^k))+x[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(O^b&(R^O))+x[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=O+(R^k&(b^R))+x[6]+2821735955&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(b^O&(k^b))+x[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(k^R&(O^k))+x[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(O^b&(R^O))+x[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=O+(R^k&(b^R))+x[10]+4294925233&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(b^O&(k^b))+x[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(k^R&(O^k))+x[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(O^b&(R^O))+x[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=O+(R^k&(b^R))+x[14]+2792965006&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(b^O&(k^b))+x[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(O^k&(R^O))+x[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(b^R))+x[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(k^b))+x[11]+643717713&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(O^k))+x[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^k&(R^O))+x[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(b^R))+x[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(k^b))+x[15]+3634488961&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(O^k))+x[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^k&(R^O))+x[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(b^R))+x[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(k^b))+x[3]+4107603335&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(O^k))+x[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^k&(R^O))+x[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(b^R))+x[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(k^b))+x[7]+1735328473&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(O^k))+x[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(R^O^k)+x[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^O)+x[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=O+(k^b^R)+x[11]+1839030562&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^b)+x[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^k)+x[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^O)+x[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=O+(k^b^R)+x[7]+4139469664&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^b)+x[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^k)+x[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^O)+x[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=O+(k^b^R)+x[3]+3572445317&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^b)+x[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^k)+x[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^O)+x[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=O+(k^b^R)+x[15]+530742520&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^b)+x[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(O^(R|~k))+x[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~O))+x[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=O+(b^(k|~R))+x[14]+2878612391&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~b))+x[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~k))+x[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~O))+x[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=O+(b^(k|~R))+x[10]+4293915773&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~b))+x[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~k))+x[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~O))+x[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=O+(b^(k|~R))+x[6]+2734768916&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~b))+x[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~k))+x[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~O))+x[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=O+(b^(k|~R))+x[2]+718787259&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~b))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const R=b-this.blockSize,x=this.C;let O=this.h,k=0;for(;k<b;){if(O==0)for(;k<=R;)l(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(x[O++]=D.charCodeAt(k++),O==this.blockSize){l(this,x),O=0;break}}else for(;k<b;)if(x[O++]=D[k++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)D[b++]=this.g[R]>>>x&255;return D};function u(D,b){var R=p;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function d(D,b){this.h=b;const R=[];let x=!0;for(let O=D.length-1;O>=0;O--){const k=D[O]|0;x&&k==b||(R[O]=k,x=!1)}this.g=R}var p={};function g(D){return-128<=D&&D<128?u(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return Z(y(-D));const b=[];let R=1;for(let x=0;D>=R;x++)b[x]=D/R|0,R*=4294967296;return new d(b,0)}function T(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return Z(T(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let x=S;for(let k=0;k<D.length;k+=8){var O=Math.min(8,D.length-k);const I=parseInt(D.substring(k,k+O),b);O<8?(O=y(Math.pow(b,O)),x=x.j(O).add(y(I))):(x=x.j(R),x=x.add(y(I)))}return x}var S=g(0),w=g(1),P=g(16777216);s=d.prototype,s.m=function(){if(W(this))return-Z(this).m();let D=0,b=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);D+=(x>=0?x:4294967296+x)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(F(this))return"0";if(W(this))return"-"+Z(this).toString(D);const b=y(Math.pow(D,6));var R=this;let x="";for(;;){const O=ut(R,b).g;R=st(R,O.j(b));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=O,F(R))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function F(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function W(D){return D.h==-1}s.l=function(D){return D=st(this,D),W(D)?-1:F(D)?0:1};function Z(D){const b=D.g.length,R=[];for(let x=0;x<b;x++)R[x]=~D.g[x];return new d(R,~D.h).add(w)}s.abs=function(){return W(this)?Z(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),R=[];let x=0;for(let O=0;O<=b;O++){let k=x+(this.i(O)&65535)+(D.i(O)&65535),I=(k>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);x=I>>>16,k&=65535,I&=65535,R[O]=I<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function st(D,b){return D.add(Z(b))}s.j=function(D){if(F(this)||F(D))return S;if(W(this))return W(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(W(D))return Z(this.j(Z(D)));if(this.l(P)<0&&D.l(P)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,R=[];for(var x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<D.g.length;O++){const k=this.i(x)>>>16,I=this.i(x)&65535,Wt=D.i(O)>>>16,fe=D.i(O)&65535;R[2*x+2*O]+=I*fe,ot(R,2*x+2*O),R[2*x+2*O+1]+=k*fe,ot(R,2*x+2*O+1),R[2*x+2*O+1]+=I*Wt,ot(R,2*x+2*O+1),R[2*x+2*O+2]+=k*Wt,ot(R,2*x+2*O+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new d(R,0)};function ot(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function tt(D,b){this.g=D,this.h=b}function ut(D,b){if(F(b))throw Error("division by zero");if(F(D))return new tt(S,S);if(W(D))return b=ut(Z(D),b),new tt(Z(b.g),Z(b.h));if(W(b))return b=ut(D,Z(b)),new tt(Z(b.g),b.h);if(D.g.length>30){if(W(D)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,x=b;x.l(D)<=0;)R=_t(R),x=_t(x);var O=Tt(R,1),k=Tt(x,1);for(x=Tt(x,2),R=Tt(R,2);!F(x);){var I=k.add(x);I.l(D)<=0&&(O=O.add(R),k=I),x=Tt(x,1),R=Tt(R,1)}return b=st(D,O.j(b)),new tt(O,b)}for(O=S;D.l(b)>=0;){for(R=Math.max(1,Math.floor(D.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(R),I=k.j(b);W(I)||I.l(D)>0;)R-=x,k=y(R),I=k.j(b);F(k)&&(k=w),O=O.add(k),D=st(D,I)}return new tt(O,D)}s.B=function(D){return ut(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)&D.i(x);return new d(R,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)|D.i(x);return new d(R,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)^D.i(x);return new d(R,this.h^D.h)};function _t(D){const b=D.g.length+1,R=[];for(let x=0;x<b;x++)R[x]=D.i(x)<<1|D.i(x-1)>>>31;return new d(R,D.h)}function Tt(D,b){const R=b>>5;b%=32;const x=D.g.length-R,O=[];for(let k=0;k<x;k++)O[k]=b>0?D.i(k+R)>>>b|D.i(k+R+1)<<32-b:D.i(k+R);return new d(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,JT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,tr=d}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WT,Ol,t0,Yc,Rm,e0,n0,i0;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break t;v=v[L]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,q){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[L].apply(A,et)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function F(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let et=0;et<q;et++)c[v+et]=L[et]}else c.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){d.setTimeout(()=>{throw c},0)}function st(){var c=D;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ot{constructor(){this.h=this.g=null}add(m,v){const A=tt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var tt=new W(()=>new ut,c=>c.reset());class ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Tt=!1,D=new ot,b=()=>{const c=Promise.resolve(void 0);_t=()=>{c.then(R)}};function R(){for(var c;c=st();){try{c.h.call(c.g)}catch(v){Z(v)}var m=tt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Tt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Wt(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Wt,O),Wt.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function nt(c,m,v,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Gt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,m,v,A,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const et=It(c,m,A,L);return et>-1?(m=c[et],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!A,L),m.fa=v,c.push(m)),m};function Et(c,m){const v=m.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(mt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function It(c,m,v,A){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ve={};function re(c,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(c,m[q],v,A,L);return null}return v=Io(v),c&&c[fe]?c.J(m,v,p(A)?!!A.capture:!1,L):pr(c,m,v,!1,A,L)}function pr(c,m,v,A,L,q){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let wt=gr(c);if(wt||(c[Lt]=wt=new lt(c)),v=wt.add(m,v,A,et,q),v.proxy)return v;if(A=la(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(L=et),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(si(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function la(){function c(v){return m.call(c.src,c.listener,v)}const m=wo;return c}function ua(c,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)ua(c,m[q],v,A,L);else A=p(A)?!!A.capture:!!A,v=Io(v),c&&c[fe]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=It(m,v,A,L),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=gr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=It(m,v,A,L)),(v=c>-1?m[c]:null)&&ca(v))}function ca(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[fe])Et(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(si(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=gr(m))?(Et(v,c),v.h==0&&(v.src=null,m[Lt]=null)):mt(c)}}}function si(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function wo(c,m){if(c.da)c=!0;else{m=new Wt(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&ca(c),c=v.call(A,m)}return c}function gr(c){return c=c[Lt],c instanceof lt?c:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(m){return c.handleEvent(m)}),c[Ro])}function Ee(){x.call(this),this.i=new lt(this),this.M=this,this.G=null}S(Ee,x),Ee.prototype[fe]=!0,Ee.prototype.removeEventListener=function(c,m,v,A){ua(this,c,m,v,A)};function Me(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(A,c),it(m,L)}L=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],L=ds(q,A,!0,m)&&L;if(q=m.g=c,L=ds(q,A,!0,m)&&L,L=ds(q,A,!1,m)&&L,v)for(et=0;et<v.length;et++)q=m.g=v[et],L=ds(q,A,!1,m)&&L}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)mt(v[A]);delete c.g[m],c.h--}}this.G=null},Ee.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},Ee.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function ds(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const wt=et.listener,me=et.ha||et.src;et.fa&&Et(c.i,et),L=wt.call(me,A)!==!1&&L}}return L&&!A.defaultPrevented}function Xh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function lu(c){c.g=Xh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class tn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(c){x.call(this),this.h=c,this.g={}}S(yr,x);var Co=[];function No(c){zt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ca(m)},c),c.g={}}yr.prototype.N=function(){yr.Z.N.call(this),No(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,$h=d.JSON.parse,uu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function cu(){}function hu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){O.call(this,"d")}S(je,O);function Rn(){O.call(this,"c")}S(Rn,O);var de={},fu=null;function ha(){return fu=fu||new Ee}de.Ia="serverreachability";function du(c){O.call(this,de.Ia,c)}S(du,O);function ri(c){const m=ha();Me(m,new du(m))}de.STAT_EVENT="statevent";function _r(c,m){O.call(this,de.STAT_EVENT,c),this.stat=m}S(_r,O);function Te(c){const m=ha();Me(m,new _r(m,c))}de.Ja="timingevent";function ai(c,m){O.call(this,de.Ja,c),this.size=m}S(ai,O);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Zh(c,m,v,A,L,q){c.info(function(){if(c.g)if(q){var et="",wt=q.split("&");for(let qt=0;qt<wt.length;qt++){var me=wt[qt].split("=");if(me.length>1){const ae=me[0];me=me[1];const Dn=ae.split("_");et=Dn.length>=2&&Dn[1]=="type"?et+(ae+"="+me+"&"):et+(ae+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function mu(c,m,v,A,L,q,et){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+et})}function li(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jh(c,v)+(A?" "+A:"")})}function vr(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Jh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<A.length;et++)A[et]=""}}}}return ms(q)}catch{return m}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Tr(){}S(Tr,cu),Tr.prototype.g=function(){return new XMLHttpRequest},Oo=new Tr;function Pi(c){return encodeURIComponent(String(c))}function pu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Fn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ae={},ke={};function ui(c,m,v){c.M=1,c.A=Ar(be(m)),c.u=v,c.R=!0,fa(c,null)}function fa(c,m){c.F=Date.now(),ci(c),c.B=be(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ga(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Du(c.j,v?m:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Co[0]=L.toString()),L=Co);for(let q=0;q<L.length;q++){const et=re(v,L[q],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ri(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Yn(this.g),me=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||me==7||(me==8||qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var v=Wh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var q=A;break e}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Te(12),pn(this),In(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=yu(this,v),ae==ke){wt==4&&(this.m=4,Te(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ae){this.m=4,Te(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ae,null),fi(this,ae);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(et),et.P=!0,Te(11))}}else li(this.i,this.l,v,null),fi(this,v);wt==4&&pn(this),this.o&&!this.K&&(wt==4?Ru(this.j,this):(this.o=!1,ci(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),pn(this),In(this)}}}catch{}finally{}};function Wh(c){if(!gu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const A=m.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),In(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?ke:(v=Number(m.substring(v,A)),isNaN(v)?Ae:(A+=1,A+v>m.length?ke:(m=m.slice(A,A+v),c.C=A+v,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function ci(c){c.T=Date.now()+c.H,da(c,c.H)}function da(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),m)}function hi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(vr(this.i,this.B),this.M!=2&&(ri(),Te(17)),pn(this),this.m=2,In(this)):da(this,this.T-c)};function In(c){c.j.I==0||c.K||Ru(c.j,c)}function pn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,No(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),As(v);else break t;Nr(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&Ta(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Dn=qt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ti=qt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Xn=qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Dr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var q=A.h;q.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(A.G){const Aa=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(A.wa=Aa,Qt(A.J,A.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var et=c;if(A.na=Nu(A,A.L?A.ba:null,A.W),et.L){Uo(A.h,et);var wt=et,me=A.O;me&&(wt.H=me),wt.D&&(hi(wt),ci(wt)),A.g=et}else bu(A);v.i.length>0&&vi(v)}else qt[0]!="stop"&&qt[0]!="close"||Ei(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ei(v,7):Fo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var Se=class{constructor(c,m){this.g=c,this.map=m}};function Vo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function xo(c,m){c.g?c.g.add(m):c.h=m}function Uo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return P(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,q=null;A>=0?(L=c[v].substring(0,A),q=c[v].substring(A+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof gn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,ps(this,c.u),this.h=c.h,Lo(this,Au(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,Le(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),ps(this,m[4]),this.h=pi(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Sr(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Sr(m,pa,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Sr(v,v.charAt(0)=="/"?Po:vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Sr(v,Eu)),c.join("")},gn.prototype.resolve=function(c){const m=be(this);let v=!!c.j;v?Le(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)ps(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const wt=L[et++];wt=="."?A&&et==L.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&et==L.length&&q.push("")):(q.push(wt),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=c.i.toString()!=="",v?Lo(m,Au(c.i)):v=!!c.m,v&&(m.m=c.m),m};function be(c){return new gn(c)}function Le(c,m,v){c.j=v?pi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ps(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Lo(c,m,v){m instanceof ys?(c.i=m,ya(c.i,c.l)):(v||(m=Sr(m,gs)),c.i=new ys(m,c.l))}function Qt(c,m,v){c.i.set(m,v)}function Ar(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pa=/[#\/\?@]/g,vu=/[#\?:]/g,Po=/[#\?]/g,gs=/[#\?@]/g,Eu=/#/g;function ys(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ma(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ys.prototype,s.add=function(c,m){rn(this),this.i=null,c=_s(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Tu(c,m){rn(c),m=_s(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function zo(c,m){return rn(c),m=_s(c,m),c.g.has(m)}s.forEach=function(c,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(m,L,A,this)},this)},this)};function jo(c,m){rn(c);let v=[];if(typeof m=="string")zo(c,m)&&(v=v.concat(c.g.get(_s(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return rn(this),this.i=null,c=_s(this,c),zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=jo(this,c),c.length>0?String(c[0]):m):m};function ga(c,m,v){Tu(c,m),v.length>0&&(c.i=null,c.g.set(_s(c,m),P(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Pi(v);v=jo(this,v);for(let q=0;q<v.length;q++){let et=L;v[q]!==""&&(et+="="+Pi(v[q])),c.push(et)}}return this.i=c.join("&")};function Au(c){const m=new ys;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function _s(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ya(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Tu(this,A),ga(this,L,v))},c)),c.j=m}function Qn(c,m){const v=new Hn;if(d.Image){const A=new Image;A.onload=T(Cn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Cn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Cn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Cn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Bo(c,m){const v=new Hn,A=new AbortController,L=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,m)})}function Cn(c,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function vs(){this.g=new uu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(gi,cu),gi.prototype.g=function(){return new br(this.i,this.h)};function br(c,m){Ee.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(br,Ee),s=br.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Kn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Es(this):Kn(this),this.readyState==3&&_a(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Es(this))},s.Na=function(c){this.g&&(this.response=c,Es(this))},s.ga=function(){this.g&&Es(this)};function Es(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let m="";return zt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function wr(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Nn(v),typeof c=="string"?v!=null&&Pi(v):Qt(c,m,v))}function Xt(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,Ee);var yi=/^https?$/i,qo=["POST","PUT"];s=Xt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Rr(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(qo,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Rr(this,q)}};function Rr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Ho(c),zi(c)}function Ho(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},s.Xa=function(){Ir(this)};function Ir(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let et=String(c.D).match(_u)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),A=!yi.test(et?et.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Ho(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),$h(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=pu(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Gt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ts(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new vs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ts.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){Te(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Nu(this,null,this.W),vi(this)};function Fo(c){if(va(c),c.I==3){var m=c.V++,v=be(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Cr(c,v),m=new Fn(c,c.j,m),m.M=2,m.A=Ar(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}Cu(c)}function As(c){c.g&&(Qo(c),c.g.cancel(),c.g=null)}function va(c){As(c),c.v&&(d.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function vi(c){if(!Mo(c.h)&&!c.m){c.m=!0;var m=c.Ea;_t||b(),Tt||(_t(),Tt=!0),D.add(m,c),c.D=0}}function Ea(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,m),Iu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Su(this,L,m),v=be(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Cr(this,v),q&&(this.R?m="headers="+Pi(Nn(q))+"&"+m:this.u&&wr(v,this.u,q)),xo(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,ui(L,v,null)):ui(L,v,m),this.I=2}}else this.I==3&&(c?Go(this,c):this.i.length==0||Mo(this.h)||Go(this))};function Go(c,m){var v;m?v=m.l:v=c.V++;const A=be(c.J);Qt(A,"SID",c.M),Qt(A,"RID",v),Qt(A,"AID",c.K),Cr(c,A),c.u&&c.o&&wr(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Su(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,v),ui(v,A,m)}function Cr(c,m){c.H&&zt(c.H,function(v,A){Qt(m,A,v)}),c.l&&zt({},function(v,A){Qt(m,A,v)})}function Su(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var L=c.i;let wt=-1;for(;;){const me=["count="+v];wt==-1?v>0?(wt=L[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let qt=!0;for(let ae=0;ae<v;ae++){var q=L[ae].g;const Dn=L[ae].map;if(q-=wt,q<0)wt=Math.max(0,L[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var et=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Xn]of et){let $n=Xn;p(Xn)&&($n=ms(Xn)),me.push(q+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw me.push(q+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(Dn)}}if(qt){et=me.join("&");break t}}et=void 0}return c=c.i.splice(0,v),m.G=c,et}function bu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;_t||b(),Tt||(_t(),Tt=!0),D.add(m,c),c.A=0}}function Nr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),Iu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),As(this),wu(this))};function Qo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=be(c.na);Qt(m,"RID","rpc"),Qt(m,"SID",c.M),Qt(m,"AID",c.K),Qt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(m,"TO",c.ia),Qt(m,"TYPE","xmlhttp"),Cr(c,m),c.u&&c.o&&wr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ar(be(m)),v.u=null,v.R=!0,fa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,As(this),Nr(this),Te(19))};function Ta(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ru(c,m){var v=null;if(c.g==m){Ta(c),Qo(c),c.g=null;var A=2}else if(mi(c.h,m))v=m.G,Uo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=ha(),Me(A,new ai(A,v)),vi(c)}else bu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&Ea(c,m)||A==2&&Nr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Iu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ei(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const L=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(A,"https"),Ar(A),L?Qn(A.toString(),v):Bo(A.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(m),Cu(c),va(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Cu(c){if(c.I=0,c.ja=[],c.l){const m=ko(c.h);(m.length!=0||c.i.length!=0)&&(F(c.ja,m),F(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Nu(c,m,v){var A=v instanceof gn?be(v):new gn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ps(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);A&&Le(q,A),m&&(q.g=m),L&&ps(q,L),v&&(q.h=v),A=q}return v=c.G,m=c.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",c.ka),Cr(c,A),A}function Du(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xt(new gi({ab:v})):new Xt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}s=Ou.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ss(){}Ss.prototype.g=function(c,m){return new en(c,m)};function en(c,m){Ee.call(this),this.g=new Ts(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Bi(this)}S(en,Ee),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Fo(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ms(c),c=v);m.i.push(new Se(m.Ya++,c)),m.I==3&&vi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,en.Z.N.call(this)};function Vu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Vu,je);function Mu(){Rn.call(this),this.status=1}S(Mu,Rn);function Bi(c){this.g=c}S(Bi,Ou),Bi.prototype.ra=function(){Me(this.g,"a")},Bi.prototype.qa=function(c){Me(this.g,new Vu(c))},Bi.prototype.pa=function(c){Me(this.g,new Mu)},Bi.prototype.oa=function(){Me(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,i0=function(){return new Ss},n0=function(){return ha()},e0=de,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,Yc=Er,Do.COMPLETE="complete",t0=Do,hu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Ol=hu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,WT=Xt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",tE="4.9.2";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let vo="12.3.0";const ta=new Km("@firebase/firestore");function Ja(){return ta.logLevel}function at(s,...t){if(ta.logLevel<=Mt.DEBUG){const n=t.map(rp);ta.debug(`Firestore (${vo}): ${s}`,...n)}}function cs(s,...t){if(ta.logLevel<=Mt.ERROR){const n=t.map(rp);ta.error(`Firestore (${vo}): ${s}`,...n)}}function lo(s,...t){if(ta.logLevel<=Mt.WARN){const n=t.map(rp);ta.warn(`Firestore (${vo}): ${s}`,...n)}}function rp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function yt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,s0(s,r,n)}function s0(s,t,n){let r=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function Ft(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||s0(t,l,r)}function bt(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class r0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class lI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class uI{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rs)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new r0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class cI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new cI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const r=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ap{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=dI(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function xt(s,t){return s<t?-1:s>t?1:0}function Im(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return om(l)===om(u)?xt(l,u):om(l)?1:-1}return xt(s.length,t.length)}const mI=55296,pI=57343;function om(s){const t=s.charCodeAt(0);return t>=mI&&t<=pI}function uo(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const nE="__name__";class Ri{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&yt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=Ri.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const r=Ri.isNumericId(t),l=Ri.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):Im(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class ee extends Ri{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const gI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ri{construct(t,n,r){return new Ke(t,n,r)}static isValidIdentifier(t){return gI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new Ke([nE])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}function a0(s,t,n){if(!n)throw new rt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function yI(s,t,n,r){if(t===!0&&r===!0)throw new rt(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function iE(s){if(!dt.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function sE(s){if(dt.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function o0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Bn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(s);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Oe(s,t){const n={typeString:s};return t&&(n.value=t),n}function tu(s,t){if(!o0(s))throw new rt(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new rt(Y.INVALID_ARGUMENT,n);return!0}const rE=-62135596800,aE=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*aE);return new se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<rE)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Oe("string",se._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function _I(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new se(n+1,0):new se(n,r));return new ir(l,dt.empty(),t)}function vI(s){return new ir(s.readTime,s.key,Hl)}class ir{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(At.min(),dt.empty(),Hl)}static max(){return new ir(At.max(),dt.empty(),Hl)}}function EI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(s.documentKey,t.documentKey),n!==0?n:xt(s.largestBatchId,t.largestBatchId))}const TI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==TI)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,r)=>{n(t)}))}static reject(t){return new J(((n,r)=>{r(t)}))}static waitFor(t){return new J(((n,r)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(g=>r(g)))})),d=!0,u===l&&n()}))}static or(t){let n=J.resolve(!1);for(const r of t)n=n.next((l=>l?J.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new J(((r,l)=>{const u=t.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((T=>{d[y]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new J(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function SI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(s){return s.name==="IndexedDbTransactionError"}class Oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Oh.ce=-1;const op=-1;function Vh(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function bI(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const l0="";function wI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=oE(t)),t=RI(s.get(n),t);return oE(t)}function RI(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case l0:n+="";break;default:n+=u}}return n}function oE(s){return s+l0+""}function lE(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function hr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function u0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=l??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new Qe(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(t){return new uE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class uE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new bn([])}unionWith(t){let n=new Ue(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return uo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class c0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new c0("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const II=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const n=II.exec(s);if(Ft(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const h0="server_timestamp",f0="__type__",d0="__previous_value__",m0="__local_write_time__";function lp(s){return(s?.mapValue?.fields||{})[f0]?.stringValue===h0}function Mh(s){const t=s.mapValue.fields[d0];return lp(t)?Mh(t):t}function Fl(s){const t=sr(s.mapValue.fields[m0].timestampValue);return new se(t.seconds,t.nanos)}class CI{constructor(t,n,r,l,u,d,p,g,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const uh="(default)";class Gl{constructor(t,n){this.projectId=t,this.database=n||uh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}const p0="__type__",NI="__max__",jc={mapValue:{}},g0="__vector__",ch="value";function ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lp(s)?4:OI(s)?9007199254740991:DI(s)?10:11:yt(28295,{value:s})}function xi(s,t){if(s===t)return!0;const n=ar(s);if(n!==ar(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Fl(s).isEqual(Fl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=sr(l.timestampValue),p=sr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return rr(l.bytesValue).isEqual(rr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ye(l.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ye(l.integerValue)===ye(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ye(l.doubleValue),p=ye(u.doubleValue);return d===p?lh(d)===lh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return uo(s.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(lE(d)!==lE(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!xi(d[g],p[g])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Ql(s,t){return(s.values||[]).find((n=>xi(n,t)))!==void 0}function co(s,t){if(s===t)return 0;const n=ar(s),r=ar(t);if(n!==r)return xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=ye(u.integerValue||u.doubleValue),g=ye(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return cE(s.timestampValue,t.timestampValue);case 4:return cE(Fl(s),Fl(t));case 5:return Im(s.stringValue,t.stringValue);case 6:return(function(u,d){const p=rr(u),g=rr(d);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=xt(p[y],g[y]);if(T!==0)return T}return xt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=xt(ye(u.latitude),ye(d.latitude));return p!==0?p:xt(ye(u.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return hE(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[ch]?.arrayValue,T=g[ch]?.arrayValue,S=xt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:hE(y,T)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===jc.mapValue&&d===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const w=Im(g[S],T[S]);if(w!==0)return w;const P=co(p[g[S]],y[T[S]]);if(P!==0)return P}return xt(g.length,T.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function cE(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return xt(s,t);const n=sr(s),r=sr(t),l=xt(n.seconds,r.seconds);return l!==0?l:xt(n.nanos,r.nanos)}function hE(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=co(n[l],r[l]);if(u)return u}return xt(n.length,r.length)}function ho(s){return Cm(s)}function Cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return rr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return dt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Cm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Cm(n.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Xc(s){switch(ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mh(s);return t?16+Xc(t):16;case 5:return 2*s.stringValue.length;case 6:return rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Xc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return hr(r.fields,((u,d)=>{l+=u.length+Xc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function fE(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Nm(s){return!!s&&"integerValue"in s}function up(s){return!!s&&"arrayValue"in s}function dE(s){return!!s&&"nullValue"in s}function mE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function DI(s){return(s?.mapValue?.fields||{})[p0]?.stringValue===g0}function Ll(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return hr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Ll(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ll(s.arrayValue.values[n]);return t}return{...s}}function OI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===NI}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!$c(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ll(n)}setAll(t){let n=Ke.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Ll(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){hr(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new fn(Ll(this.value))}}function y0(s){const t=[];return hr(s.fields,((n,r)=>{const l=new Ke([n]);if($c(r)){const u=y0(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new bn(t)}class Je{constructor(t,n,r,l,u,d,p){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,At.min(),At.min(),At.min(),fn.empty(),0)}static newFoundDocument(t,n,r,l){return new Je(t,1,n,At.min(),r,l,0)}static newNoDocument(t,n){return new Je(t,2,n,At.min(),At.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,At.min(),At.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(t,n){this.position=t,this.inclusive=n}}function pE(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),n.key):r=co(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function gE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!xi(s.position[n],t.position[n]))return!1;return!0}class Kl{constructor(t,n="asc"){this.field=t,this.dir=n}}function VI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class _0{}class De extends _0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new xI(t,n,r):n==="array-contains"?new LI(t,r):n==="in"?new PI(t,r):n==="not-in"?new zI(t,r):n==="array-contains-any"?new jI(t,r):new De(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new UI(t,r):new kI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends _0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return v0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function v0(s){return s.op==="and"}function E0(s){return MI(s)&&v0(s)}function MI(s){for(const t of s.filters)if(t instanceof ii)return!1;return!0}function Dm(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(E0(s))return s.filters.map((t=>Dm(t))).join(",");{const t=s.filters.map((n=>Dm(n))).join(",");return`${s.op}(${t})`}}function T0(s,t){return s instanceof De?(function(r,l){return l instanceof De&&r.op===l.op&&r.field.isEqual(l.field)&&xi(r.value,l.value)})(s,t):s instanceof ii?(function(r,l){return l instanceof ii&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&T0(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function A0(s){return s instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(A0).join(" ,")+"}"})(s):"Filter"}class xI extends De{constructor(t,n,r){super(t,n,r),this.key=dt.fromName(r.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class UI extends De{constructor(t,n){super(t,"in",n),this.keys=S0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class kI extends De{constructor(t,n){super(t,"not-in",n),this.keys=S0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function S0(s,t){return(t.arrayValue?.values||[]).map((n=>dt.fromName(n.referenceValue)))}class LI extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return up(n)&&Ql(n.arrayValue,this.value)}}class PI extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class zI extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class jI extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ql(this.value.arrayValue,r)))}}class BI{constructor(t,n=null,r=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function yE(s,t=null,n=[],r=[],l=null,u=null,d=null){return new BI(s,t,n,r,l,u,d)}function cp(s){const t=bt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Dm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Vh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>ho(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>ho(r))).join(",")),t.Te=n}return t.Te}function hp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!VI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!T0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!gE(s.startAt,t.startAt)&&gE(s.endAt,t.endAt)}function Om(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ao{constructor(t,n=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qI(s,t,n,r,l,u,d,p){return new Ao(s,t,n,r,l,u,d,p)}function xh(s){return new Ao(s)}function _E(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function b0(s){return s.collectionGroup!==null}function Pl(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue(Ke.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Kl(u,r))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Kl(Ke.keyField(),r))}return t.Ie}function Di(s){const t=bt(s);return t.Ee||(t.Ee=HI(t,Pl(s))),t.Ee}function HI(s,t){if(s.limitType==="F")return yE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Kl(l.field,u)}));const n=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return yE(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Vm(s,t){const n=s.filters.concat([t]);return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Mm(s,t,n){return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Uh(s,t){return hp(Di(s),Di(t))&&s.limitType===t.limitType}function w0(s){return`${cp(Di(s))}|lt:${s.limitType}`}function Wa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>A0(l))).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>ho(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>ho(l))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function kh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):dt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Pl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=pE(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,Pl(r),l)||r.endAt&&!(function(d,p,g){const y=pE(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,Pl(r),l))})(s,t)}function FI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function R0(s){return(t,n)=>{let r=!1;for(const l of Pl(s)){const u=GI(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function GI(s,t,n){const r=s.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?co(g,y):yt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class ra{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){hr(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}const QI=new le(dt.comparator);function hs(){return QI}const I0=new le(dt.comparator);function Vl(...s){let t=I0;for(const n of s)t=t.insert(n.key,n);return t}function C0(s){let t=I0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Kr(){return zl()}function N0(){return zl()}function zl(){return new ra((s=>s.toString()),((s,t)=>s.isEqual(t)))}const KI=new le(dt.comparator),YI=new Ue(dt.comparator);function Ut(...s){let t=YI;for(const n of s)t=t.add(n);return t}const XI=new Ue(xt);function $I(){return XI}function fp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(t)?"-0":t}}function D0(s){return{integerValue:""+s}}function ZI(s,t){return bI(t)?D0(t):fp(s,t)}class Lh{constructor(){this._=void 0}}function JI(s,t,n){return s instanceof Yl?(function(l,u){const d={fields:{[f0]:{stringValue:h0},[m0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&lp(u)&&(u=Mh(u)),u&&(d.fields[d0]=u),{mapValue:d}})(n,t):s instanceof fo?V0(s,t):s instanceof mo?M0(s,t):(function(l,u){const d=O0(l,u),p=vE(d)+vE(l.Ae);return Nm(d)&&Nm(l.Ae)?D0(p):fp(l.serializer,p)})(s,t)}function WI(s,t,n){return s instanceof fo?V0(s,t):s instanceof mo?M0(s,t):n}function O0(s,t){return s instanceof fh?(function(r){return Nm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Yl extends Lh{}class fo extends Lh{constructor(t){super(),this.elements=t}}function V0(s,t){const n=x0(t);for(const r of s.elements)n.some((l=>xi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class mo extends Lh{constructor(t){super(),this.elements=t}}function M0(s,t){let n=x0(t);for(const r of s.elements)n=n.filter((l=>!xi(l,r)));return{arrayValue:{values:n}}}class fh extends Lh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function vE(s){return ye(s.integerValue||s.doubleValue)}function x0(s){return up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class dp{constructor(t,n){this.field=t,this.transform=n}}function tC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof fo&&l instanceof fo||r instanceof mo&&l instanceof mo?uo(r.elements,l.elements,xi):r instanceof fh&&l instanceof fh?xi(r.Ae,l.Ae):r instanceof Yl&&l instanceof Yl})(s.transform,t.transform)}class eC{constructor(t,n){this.version=t,this.transformResults=n}}class wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wn}static exists(t){return new wn(void 0,t)}static updateTime(t){return new wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ph{}function U0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new mp(s.key,wn.none()):new eu(s.key,s.data,wn.none());{const n=s.data,r=fn.empty();let l=new Ue(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new fr(s.key,r,new bn(l.toArray()),wn.none())}}function nC(s,t,n){s instanceof eu?(function(l,u,d){const p=l.value.clone(),g=TE(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,n):s instanceof fr?(function(l,u,d){if(!Zc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=TE(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(k0(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function jl(s,t,n,r){return s instanceof eu?(function(u,d,p,g){if(!Zc(u.precondition,d))return p;const y=u.value.clone(),T=AE(u.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof fr?(function(u,d,p,g){if(!Zc(u.precondition,d))return p;const y=AE(u.fieldTransforms,g,d),T=d.data;return T.setAll(k0(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,d,p){return Zc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,n)}function iC(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=O0(r.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(r.field,u))}return n||null}function EE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&uo(r,l,((u,d)=>tC(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class eu extends Ph{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class fr extends Ph{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function k0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function TE(s,t,n){const r=new Map;Ft(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,p=t.data.field(u.field);r.set(u.field,WI(d,p,n[l]))}return r}function AE(s,t,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,JI(u,d,t))}return r}class mp extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sC extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rC{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&nC(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=jl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=jl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=N0();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const g=U0(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,((n,r)=>EE(n,r)))&&uo(this.baseMutations,t.baseMutations,((n,r)=>EE(n,r)))}}class pp{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return KI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new pp(t,n,r,l)}}class aC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ne,Pt;function lC(s){switch(s){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function L0(s){if(s===void 0)return cs("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ne.OK:return Y.OK;case Ne.CANCELLED:return Y.CANCELLED;case Ne.UNKNOWN:return Y.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Y.INTERNAL;case Ne.UNAVAILABLE:return Y.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Y.NOT_FOUND;case Ne.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ne.ABORTED:return Y.ABORTED;case Ne.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ne.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:s})}}(Pt=Ne||(Ne={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function uC(){return new TextEncoder}const cC=new tr([4294967295,4294967295],0);function SE(s){const t=uC().encode(s),n=new JT;return n.update(t),new Uint8Array(n.digest())}function bE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new tr([n,r],0),new tr([l,u],0)]}class gp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=tr.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(tr.fromNumber(r)));return l.compare(cC)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=SE(t),[r,l]=bE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new gp(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=SE(t),[r,l]=bE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new zh(At.min(),l,new le(xt),hs(),Ut())}}class nu{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new nu(r,n,Ut(),Ut(),Ut())}}class Jc{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class P0{constructor(t,n){this.targetId=t,this.Ce=n}}class z0{constructor(t,n,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class wE{constructor(){this.ve=0,this.Fe=RE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),r=Ut();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:u})}})),new nu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=RE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hC{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.Je=Bc(),this.He=Bc(),this.Ye=new le(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Om(u))if(r===0){const d=new dt(u.path);this.et(n,d,Je.newNoDocument(d,At.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=rr(r).toUint8Array()}catch(g){if(g instanceof c0)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new gp(d,l,u)}catch(g){return lo(g instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Om(p.target)){const g=new dt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Je.newNoDocument(g,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let r=Ut();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new zh(t,n,this.Ye,this.je,r);return this.je=hs(),this.Je=Bc(),this.He=Bc(),this.Ye=new le(xt),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new wE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ue(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ue(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new wE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Bc(){return new le(dt.comparator)}function RE(){return new le(dt.comparator)}const fC={asc:"ASCENDING",desc:"DESCENDING"},dC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mC={and:"AND",or:"OR"};class pC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xm(s,t){return s.useProto3Json||Vh(t)?t:{value:t}}function dh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function gC(s,t){return dh(s,t.toTimestamp())}function Oi(s){return Ft(!!s,49232),At.fromTimestamp((function(n){const r=sr(n);return new se(r.seconds,r.nanos)})(s))}function yp(s,t){return Um(s,t).canonicalString()}function Um(s,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function B0(s){const t=ee.fromString(s);return Ft(Q0(t),10190,{key:t.toString()}),t}function km(s,t){return yp(s.databaseId,t.path)}function lm(s,t){const n=B0(t);if(n.get(1)!==s.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new dt(H0(n))}function q0(s,t){return yp(s.databaseId,t)}function yC(s){const t=B0(s);return t.length===4?ee.emptyPath():H0(t)}function Lm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function H0(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function IE(s,t,n){return{name:km(s,t),fields:n.value.mapValue.fields}}function _C(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Y.UNKNOWN:L0(y.code);return new rt(T,y.message||"")})(d);n=new z0(r,l,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=lm(s,r.document.name),u=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):At.min(),p=new fn({mapValue:{fields:r.document.fields}}),g=Je.newFoundDocument(l,u,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new Jc(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=lm(s,r.document),u=r.readTime?Oi(r.readTime):At.min(),d=Je.newNoDocument(l,u),p=r.removedTargetIds||[];n=new Jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=lm(s,r.document),u=r.removedTargetIds||[];n=new Jc([],u,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new oC(l,u),p=r.targetId;n=new P0(p,d)}}return n}function vC(s,t){let n;if(t instanceof eu)n={update:IE(s,t.key,t.value)};else if(t instanceof mp)n={delete:km(s,t.key)};else if(t instanceof fr)n={update:IE(s,t.key,t.data),updateMask:CC(t.fieldMask)};else{if(!(t instanceof sC))return yt(16599,{Vt:t.type});n={verify:km(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:gC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(s,t.precondition)),n}function EC(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(At.min())&&(d=Oi(u)),new eC(d,l.transformResults||[])})(n,t)))):[]}function TC(s,t){return{documents:[q0(s,t.path)]}}function AC(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q0(s,l);const u=(function(y){if(y.length!==0)return G0(ii.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(w){return{field:to(w.field),direction:wC(w.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=xm(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function SC(s){let t=yC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ft(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const w=F0(S);return w instanceof ii&&E0(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((w=>(function(F){return new Kl(eo(F.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let w;return w=typeof S=="object"?S.value:S,Vh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,P=S.values||[];return new hh(P,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,P=S.values||[];return new hh(P,w)})(n.endAt)),qI(t,l,d,u,p,"F",g,y)}function bC(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function F0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=eo(n.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=eo(n.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return De.create(eo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>F0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(s):yt(30097,{filter:s})}function wC(s){return fC[s]}function RC(s){return dC[s]}function IC(s){return mC[s]}function to(s){return{fieldPath:s.canonicalString()}}function eo(s){return Ke.fromServerFormat(s.fieldPath)}function G0(s){return s instanceof De?(function(n){if(n.op==="=="){if(mE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:RC(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((l=>G0(l)));return r.length===1?r[0]:{compositeFilter:{op:IC(n.op),filters:r}}})(s):yt(54877,{filter:s})}function CC(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Q0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Zs{constructor(t,n,r,l,u=At.min(),d=At.min(),p=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class NC{constructor(t){this.yt=t}}function DC(s){const t=SC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Mm(t,t.limit,"L"):t}class OC{constructor(){this.Cn=new VC}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(ir.min())}updateCollectionGroup(t,n,r){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class VC{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new Ue(ee.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ue(ee.comparator)).toArray()}}const CE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(K0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const NE="LruGarbageCollector",MC=1048576;function DE([s,t],[n,r]){const l=xt(s,n);return l===0?xt(t,r):l}class xC{constructor(t){this.Ir=t,this.buffer=new Ue(DE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UC{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(NE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?at(NE,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class kC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Oh.ce);const r=new xC(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(CE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,u,d,p,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),Ja()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function LC(s,t){return new kC(s,t)}class PC{constructor(){this.changes=new ra((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class zC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class jC{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&jl(r.mutation,l,bn.empty(),se.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ut()){const l=Kr();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let d=Vl();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const r=Kr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ut())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,r,l){let u=hs();const d=zl(),p=(function(){return zl()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof fr)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),jl(T.mutation,y,T.mutation.getFieldMask(),se.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new zC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=zl();let l=new le(((d,p)=>d-p)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||bn.empty();T=p.applyToLocalView(y,T),r.set(g,T);const S=(l.get(p.batchId)||Ut()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=N0();T.forEach((w=>{if(!u.has(w)){const P=U0(n.get(w),r.get(w));P!==null&&S.set(w,P),u=u.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):b0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):J.resolve(Kr());let p=Hl,g=u;return d.next((y=>J.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((w=>{g=g.insert(T,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Ut()))).next((T=>({batchId:p,changes:C0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((r=>{let l=Vl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let d=Vl();return this.indexManager.getCollectionParents(t,u).next((p=>J.forEach(p,(g=>{const y=(function(S,w){return new Ao(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((T=>{T.forEach(((S,w)=>{d=d.insert(S,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let p=Vl();return d.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&jl(T.mutation,y,bn.empty(),se.now()),kh(n,y)&&(p=p.insert(g,y))})),p}))}}class BC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:DC(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),J.resolve()}}class qC{constructor(){this.overlays=new le(dt.comparator),this.qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Kr();return J.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.St(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,n,r){const l=Kr(),u=n.length+1,d=new dt(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return J.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=Kr(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Kr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return J.resolve(p)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new aC(n,r));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class HC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}class _p{constructor(){this.Qr=new Ue(ze.$r),this.Ur=new Ue(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new ze(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new dt(new ee([])),r=new ze(n,t),l=new ze(n,t+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new dt(new ee([])),r=new ze(n,t),l=new ze(n,t+1);let u=Ut();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new ze(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return dt.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||dt.comparator(t.key,n.key)}}class FC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(ze.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rC(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ze(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?op:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ze(n,0),l=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(xt);return n.forEach((l=>{const u=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;dt.isDocumentKey(u)||(u=u.child(""));const d=new ze(new dt(u),0);let p=new Ue(xt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(n.mutations,(l=>{const u=new ze(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new ze(n,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GC{constructor(t){this.ri=t,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=hs();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=hs();const d=n.path,p=new dt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||EI(vI(T),r)<=0||(l.has(T.key)||kh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,r,l){yt(9500)}ii(t,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new QC(this)}getSize(t){return J.resolve(this.size)}}class QC extends PC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class KC{constructor(t){this.persistence=t,this.si=new ra((n=>cp(n)),hp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new _p,this.targetCount=0,this.ai=po.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),J.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Pr(n),J.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return J.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),J.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return J.resolve(r)}containsKey(t,n){return J.resolve(this._i.containsKey(n))}}class Y0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Oh(0),this.li=!1,this.li=!0,this.hi=new HC,this.referenceDelegate=t(this),this.Pi=new KC(this),this.indexManager=new OC,this.remoteDocumentCache=(function(l){return new GC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new NC(n),this.Ii=new BC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new FC(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){at("MemoryPersistence","Starting transaction:",t);const l=new YC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class YC extends AI{constructor(t){super(),this.currentSequenceNumber=t}}class vp{constructor(t){this.persistence=t,this.Ri=new _p,this.Vi=null}static mi(t){return new vp(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),J.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((u=>{u||n.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class mh{constructor(t,n){this.persistence=t,this.pi=new ra((r=>wI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=LC(this,n)}static mi(t,n){return new mh(t,n)}Ei(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?J.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((p=>{p||(r++,u.removeEntry(d,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Xc(t.data.value)),n}br(t,n,r){return J.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ep{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=Ut(),l=Ut();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Ep(t,n.fromCache,r,l)}}class XC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $C{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return q1()?8:SI(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new XC;return this.Ss(t,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,d,p.size)}))})).next((()=>u.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(Ja()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ja()<=Mt.DEBUG&&at("QueryEngine","Query:",Wa(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ja()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):J.resolve())}ys(t,n){if(_E(n))return J.resolve(null);let r=Di(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Mm(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=Ut(...u);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(t,Mm(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,r,l){return _E(n)||l.isEqual(At.min())?J.resolve(null):this.ps.getDocuments(t,r).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,r,l)?J.resolve(null):(Ja()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(n)),this.vs(t,d,n,_I(l,Hl)).next((p=>p)))}))}Ds(t,n){let r=new Ue(R0(t));return n.forEach(((l,u)=>{kh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,r){return Ja()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(t,n,ir.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Tp="LocalStore",ZC=3e8;class JC{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new le(xt),this.xs=new ra((u=>cp(u)),hp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function WC(s,t,n,r){return new JC(s,t,n,r)}async function X0(s,t){const n=bt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Ut();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function t2(s,t){const n=bt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,w=S.keys();let P=J.resolve();return w.forEach((F=>{P=P.next((()=>T.getEntry(g,F))).next((W=>{const Z=y.docVersions.get(F);Ft(Z!==null,48541),W.version.compareTo(Z)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function $0(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function e2(s,t){const n=bt(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const w=l.get(S);if(!w)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let P=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,r)),l=l.insert(S,P),(function(W,Z,st){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=ZC?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(w,P,T)&&p.push(n.Pi.updateTargetData(u,P))}));let g=hs(),y=Ut();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(n2(u,d,t.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(At.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return J.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function n2(s,t,n){let r=Ut(),l=Ut();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=hs();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):at(Tp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function i2(s,t){const n=bt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function s2(s,t){const n=bt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((u=>u?(l=u,J.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new Zs(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Pm(s,t,n){const r=bt(s),l=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;at(Tp,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function OE(s,t,n){const r=bt(s);let l=At.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const S=bt(g),w=S.xs.get(T);return w!==void 0?J.resolve(S.Ms.get(w)):S.Pi.getTargetData(y,T)})(r,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,n?l:At.min(),n?u:Ut()))).next((p=>(r2(r,FI(t),p),{documents:p,Qs:u})))))}function r2(s,t,n){let r=s.Os.get(t)||At.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class VE{constructor(){this.activeTargetIds=$I()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class a2{constructor(){this.Mo=new VE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new VE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class o2{Oo(t){}shutdown(){}}const ME="ConnectivityMonitor";class xE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(ME,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(ME,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function zm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const um="RestConnection",l2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,u){const d=zm(),p=this.zo(t,n.toUriEncodedString());at(um,`Sending RPC '${t}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),T=ia(y);return this.Jo(t,p,g,r,T).then((S=>(at(um,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw lo(um,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,n,r,l,u,d){return this.Go(t,n,r,l,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const r=l2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class c2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class h2 extends u2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,u){const d=zm();return new Promise(((p,g)=>{const y=new WT;y.setWithCredentials(!0),y.listenOnce(t0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Yc.NO_ERROR:const S=y.getResponseJson();at($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Yc.TIMEOUT:at($e,`RPC '${t}' ${d} timed out`),g(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const w=y.getStatus();if(at($e,`RPC '${t}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const F=P?.error;if(F&&F.status&&F.message){const W=(function(st){const ot=st.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ot)>=0?ot:Y.UNKNOWN})(F.status);g(new rt(W,F.message))}else g(new rt(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at($e,`RPC '${t}' ${d} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(t,n,r){const l=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=i0(),p=n0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");at($e,`Creating RPC '${t}' stream ${l}: ${T}`,g);const S=d.createWebChannel(T,g);this.I_(S);let w=!1,P=!1;const F=new c2({Yo:Z=>{P?at($e,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(w||(at($e,`Opening RPC '${t}' stream ${l} transport.`),S.open(),w=!0),at($e,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),W=(Z,st,ot)=>{Z.listen(st,(tt=>{try{ot(tt)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return W(S,Ol.EventType.OPEN,(()=>{P||(at($e,`RPC '${t}' stream ${l} transport opened.`),F.o_())})),W(S,Ol.EventType.CLOSE,(()=>{P||(P=!0,at($e,`RPC '${t}' stream ${l} transport closed`),F.a_(),this.E_(S))})),W(S,Ol.EventType.ERROR,(Z=>{P||(P=!0,lo($e,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),F.a_(new rt(Y.UNAVAILABLE,"The operation could not be completed")))})),W(S,Ol.EventType.MESSAGE,(Z=>{if(!P){const st=Z.data[0];Ft(!!st,16349);const ot=st,tt=ot?.error||ot[0]?.error;if(tt){at($e,`RPC '${t}' stream ${l} received error:`,tt);const ut=tt.status;let _t=(function(b){const R=Ne[b];if(R!==void 0)return L0(R)})(ut),Tt=tt.message;_t===void 0&&(_t=Y.INTERNAL,Tt="Unknown error status: "+ut+" with message "+tt.message),P=!0,F.a_(new rt(_t,Tt)),S.close()}else at($e,`RPC '${t}' stream ${l} received:`,st),F.u_(st)}})),W(p,e0.STAT_EVENT,(Z=>{Z.stat===Rm.PROXY?at($e,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Rm.NOPROXY&&at($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function cm(){return typeof document<"u"?document:null}function jh(s){return new pC(s,!0)}class Z0{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const UE="PersistentStream";class J0{constructor(t,n,r,l,u,d,p,g){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(UE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(at(UE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f2 extends J0{constructor(t,n,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=_C(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Oi(d.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Lm(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=Om(g)?{documents:TC(u,g)}:{query:AC(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=j0(u,d.resumeToken);const y=xm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=dh(u,d.snapshotVersion.toTimestamp());const y=xm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=bC(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Lm(this.serializer),n.removeTarget=t,this.q_(n)}}class d2 extends J0{constructor(t,n,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=EC(t.writeResults,t.commitTime),r=Oi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Lm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>vC(this.serializer,r)))};this.q_(n)}}class m2{}class p2 extends m2{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,Um(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(Y.UNKNOWN,u.toString())}))}Ho(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Um(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class y2{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{aa(this)&&(at(ea,"Restarting streams for network reachability change."),await(async function(g){const y=bt(g);y.Ea.add(4),await iu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Bh(y)})(this))}))})),this.Ra=new g2(r,l)}}async function Bh(s){if(aa(s))for(const t of s.da)await t(!0)}async function iu(s){for(const t of s.da)await t(!1)}function W0(s,t){const n=bt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),wp(n)?bp(n):So(n).O_()&&Sp(n,t))}function Ap(s,t){const n=bt(s),r=So(n);n.Ia.delete(t),r.O_()&&tA(n,t),n.Ia.size===0&&(r.O_()?r.L_():aa(n)&&n.Ra.set("Unknown"))}function Sp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}So(s).Y_(t)}function tA(s,t){s.Va.Ue(t),So(s).Z_(t)}function bp(s){s.Va=new hC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Ra.ua()}function wp(s){return aa(s)&&!So(s).x_()&&s.Ia.size>0}function aa(s){return bt(s).Ea.size===0}function eA(s){s.Va=void 0}async function _2(s){s.Ra.set("Online")}async function v2(s){s.Ia.forEach(((t,n)=>{Sp(s,t)}))}async function E2(s,t){eA(s),wp(s)?(s.Ra.ha(t),bp(s)):s.Ra.set("Unknown")}async function T2(s,t,n){if(s.Ra.set("Online"),t instanceof z0&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){at(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ph(s,r)}else if(t instanceof Jc?s.Va.Ze(t):t instanceof P0?s.Va.st(t):s.Va.tt(t),!n.isEqual(At.min()))try{const r=await $0(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),tA(u,g);const S=new Zs(T.target,g,y,T.sequenceNumber);Sp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){at(ea,"Failed to raise snapshot:",r),await ph(s,r)}}async function ph(s,t,n){if(!To(t))throw t;s.Ea.add(1),await iu(s),s.Ra.set("Offline"),n||(n=()=>$0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(ea,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Bh(s)}))}function nA(s,t){return t().catch((n=>ph(s,n,t)))}async function qh(s){const t=bt(s),n=or(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:op;for(;A2(t);)try{const l=await i2(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,S2(t,l)}catch(l){await ph(t,l)}iA(t)&&sA(t)}function A2(s){return aa(s)&&s.Ta.length<10}function S2(s,t){s.Ta.push(t);const n=or(s);n.O_()&&n.X_&&n.ea(t.mutations)}function iA(s){return aa(s)&&!or(s).x_()&&s.Ta.length>0}function sA(s){or(s).start()}async function b2(s){or(s).ra()}async function w2(s){const t=or(s);for(const n of s.Ta)t.ea(n.mutations)}async function R2(s,t,n){const r=s.Ta.shift(),l=pp.from(r,t,n);await nA(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await qh(s)}async function I2(s,t){t&&or(s).X_&&await(async function(r,l){if((function(d){return lC(d)&&d!==Y.ABORTED})(l.code)){const u=r.Ta.shift();or(r).B_(),await nA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await qh(r)}})(s,t),iA(s)&&sA(s)}async function kE(s,t){const n=bt(s);n.asyncQueue.verifyOperationInProgress(),at(ea,"RemoteStore received new credentials");const r=aa(n);n.Ea.add(3),await iu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Bh(n)}async function C2(s,t){const n=bt(s);t?(n.Ea.delete(2),await Bh(n)):t||(n.Ea.add(2),await iu(n),n.Ra.set("Unknown"))}function So(s){return s.ma||(s.ma=(function(n,r,l){const u=bt(n);return u.sa(),new f2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:_2.bind(null,s),t_:v2.bind(null,s),r_:E2.bind(null,s),H_:T2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),wp(s)?bp(s):s.Ra.set("Unknown")):(await s.ma.stop(),eA(s))}))),s.ma}function or(s){return s.fa||(s.fa=(function(n,r,l){const u=bt(n);return u.sa(),new d2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:b2.bind(null,s),r_:I2.bind(null,s),ta:w2.bind(null,s),na:R2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await qh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Rp{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const d=Date.now()+r,p=new Rp(t,n,d,l,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(s,t){if(cs("AsyncQueue",`${t}: ${s}`),To(s))return new rt(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||dt.comparator(n.key,r.key):(n,r)=>dt.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class LE{constructor(){this.ga=new le(dt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class go{constructor(t,n,r,l,u,d,p,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new go(t,n,ao.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class N2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class D2{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=bt(n),u=l.queries;l.queries=PE(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function PE(){return new ra((s=>w0(s)),Uh)}async function Cp(s,t){const n=bt(s);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new N2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Ip(d,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Dp(n)}async function Np(s,t){const n=bt(s),r=t.query;let l=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O2(s,t){const n=bt(s);let r=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Dp(n)}function V2(s,t,n){const r=bt(s),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(t)}function Dp(s){s.Ca.forEach((t=>{t.next()}))}var jm,zE;(zE=jm||(jm={})).Ma="default",zE.Cache="cache";class Op{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new go(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==jm.Cache}}class rA{constructor(t){this.key=t}}class aA{constructor(t){this.key=t}}class M2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=R0(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new LE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const w=l.get(T),P=kh(this.query,S)?S:null,F=!!w&&this.mutatedKeys.has(w.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Z=!1;w&&P?w.data.isEqual(P.data)?F!==W&&(r.track({type:3,doc:P}),Z=!0):this.su(w,P)||(r.track({type:2,doc:P}),Z=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(p=!0)):!w&&P?(r.track({type:0,doc:P}),Z=!0):w&&!P&&(r.track({type:1,doc:w}),Z=!0,(g||y)&&(p=!0)),Z&&(P?(d=d.add(P),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(P,F){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Z})}};return W(P)-W(F)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new go(this.query,t.tu,u,d,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new aA(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new rA(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vp="SyncEngine";class x2{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class U2{constructor(t){this.key=t,this.hu=!1}}class k2{constructor(t,n,r,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((p=>w0(p)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new le(dt.comparator),this.Au=new Map,this.Ru=new _p,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L2(s,t,n=!0){const r=fA(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await oA(r,t,n,!0),l}async function P2(s,t){const n=fA(s);await oA(n,t,!0,!1)}async function oA(s,t,n,r){const l=await s2(s.localStore,Di(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await z2(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&W0(s.remoteStore,l),p}async function z2(s,t,n,r,l){s.pu=(S,w,P)=>(async function(W,Z,st,ot){let tt=Z.view.ru(st);tt.Cs&&(tt=await OE(W.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,tt))));const ut=ot&&ot.targetChanges.get(Z.targetId),_t=ot&&ot.targetMismatches.get(Z.targetId)!=null,Tt=Z.view.applyChanges(tt,W.isPrimaryClient,ut,_t);return BE(W,Z.targetId,Tt.au),Tt.snapshot})(s,S,w,P);const u=await OE(s.localStore,t,!0),d=new M2(t,u.Qs),p=d.ru(u.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);BE(s,n,y.au);const T=new x2(t,n,d);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function j2(s,t,n){const r=bt(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Uh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Pm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Ap(r.remoteStore,l.targetId),Bm(r,l.targetId)})).catch(Eo)):(Bm(r,l.targetId),await Pm(r.localStore,l.targetId,!0))}async function B2(s,t){const n=bt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ap(n.remoteStore,r.targetId))}async function q2(s,t,n){const r=X2(s);try{const l=await(function(d,p){const g=bt(d),y=se.now(),T=p.reduce(((P,F)=>P.add(F.key)),Ut());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let F=hs(),W=Ut();return g.Ns.getEntries(P,T).next((Z=>{F=Z,F.forEach(((st,ot)=>{ot.isValidDocument()||(W=W.add(st))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,F))).next((Z=>{S=Z;const st=[];for(const ot of p){const tt=iC(ot,S.get(ot.key).overlayedDocument);tt!=null&&st.push(new fr(ot.key,tt,y0(tt.value.mapValue),wn.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,st,p)})).next((Z=>{w=Z;const st=Z.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(P,Z.batchId,st)}))})).then((()=>({batchId:w.batchId,changes:C0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await su(r,l.changes),await qh(r.remoteStore)}catch(l){const u=Ip(l,"Failed to persist write");n.reject(u)}}async function lA(s,t){const n=bt(s);try{const r=await e2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await su(n,r,t)}catch(r){await Eo(r)}}function jE(s,t,n){const r=bt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=bt(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const w of S.Sa)w.va(p)&&(y=!0)})),y&&Dp(g)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function H2(s,t,n){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new le(dt.comparator);d=d.insert(u,Je.newNoDocument(u,At.min()));const p=Ut().add(u),g=new zh(At.min(),new Map,new le(xt),d,p);await lA(r,g),r.du=r.du.remove(u),r.Au.delete(t),Mp(r)}else await Pm(r.localStore,t,!1).then((()=>Bm(r,t,n))).catch(Eo)}async function F2(s,t){const n=bt(s),r=t.batch.batchId;try{const l=await t2(n.localStore,t);cA(n,r,null),uA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,l)}catch(l){await Eo(l)}}async function G2(s,t,n){const r=bt(s);try{const l=await(function(d,p){const g=bt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ft(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);cA(r,t,n),uA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await su(r,l)}catch(l){await Eo(l)}}function uA(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function cA(s,t,n){const r=bt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Bm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||hA(s,r)}))}function hA(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Ap(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Mp(s))}function BE(s,t,n){for(const r of n)r instanceof rA?(s.Ru.addReference(r.key,t),Q2(s,r)):r instanceof aA?(at(Vp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||hA(s,r.key)):yt(19791,{wu:r})}function Q2(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(at(Vp,"New document in limbo: "+n),s.Eu.add(r),Mp(s))}function Mp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new dt(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new U2(n)),s.du=s.du.insert(n,r),W0(s.remoteStore,new Zs(Di(xh(n.path)),r,"TargetPurposeLimboResolution",Oh.ce))}}async function su(s,t,n){const r=bt(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Ep.As(g.targetId,y);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=bt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(w=>J.forEach(w.Es,(P=>T.persistence.referenceDelegate.addReference(S,w.targetId,P))).next((()=>J.forEach(w.ds,(P=>T.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))))))}catch(S){if(!To(S))throw S;at(Tp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const P=T.Ms.get(w),F=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(w,W)}}})(r.localStore,u))}async function K2(s,t){const n=bt(s);if(!n.currentUser.isEqual(t)){at(Vp,"User change. New user:",t.toKey());const r=await X0(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new rt(Y.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await su(n,r.Ls)}}function Y2(s,t){const n=bt(s),r=n.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let l=Ut();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function fA(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=H2.bind(null,t),t.Pu.H_=O2.bind(null,t.eventManager),t.Pu.yu=V2.bind(null,t.eventManager),t}function X2(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=F2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=G2.bind(null,t),t}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return WC(this.persistence,new $C,t.initialUser,this.serializer)}Cu(t){return new Y0(vp.mi,this.serializer)}Du(t){return new a2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class $2 extends gh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UC(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Y0((r=>mh.mi(r,n)),this.serializer)}}class qm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K2.bind(null,this.syncEngine),await C2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new D2})()}createDatastore(t){const n=jh(t.databaseInfo.databaseId),r=(function(u){return new h2(u)})(t.databaseInfo);return(function(u,d,p,g){return new p2(u,d,p,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,d,p){return new y2(r,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>jE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new o2})())}createSyncEngine(t,n){return(function(l,u,d,p,g,y,T){const S=new k2(l,u,d,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=bt(n);at(ea,"RemoteStore shutting down."),r.Ea.add(5),await iu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class xp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const lr="FirestoreClient";class Z2{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{at(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ip(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function hm(s,t){s.asyncQueue.verifyOperationInProgress(),at(lr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await X0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function qE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await J2(s);at(lr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>kE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>kE(t.remoteStore,l))),s._onlineComponents=t}async function J2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(lr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await hm(s,new gh)}}else at(lr,"Using default OfflineComponentProvider"),await hm(s,new $2(void 0));return s._offlineComponents}async function dA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(lr,"Using user provided OnlineComponentProvider"),await qE(s,s._uninitializedComponentsProvider._online)):(at(lr,"Using default OnlineComponentProvider"),await qE(s,new qm))),s._onlineComponents}function W2(s){return dA(s).then((t=>t.syncEngine))}async function yh(s){const t=await dA(s),n=t.eventManager;return n.onListen=L2.bind(null,t.syncEngine),n.onUnlisten=j2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=P2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=B2.bind(null,t.syncEngine),n}function tN(s,t,n={}){const r=new rs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new xp({next:w=>{T.Nu(),d.enqueueAndForget((()=>Np(u,S)));const P=w.docs.has(p);!P&&w.fromCache?y.reject(new rt(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&g&&g.source==="server"?y.reject(new rt(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new Op(xh(p.path),T,{includeMetadataChanges:!0,qa:!0});return Cp(u,S)})(await yh(s),s.asyncQueue,t,n,r))),r.promise}function eN(s,t,n={}){const r=new rs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new xp({next:w=>{T.Nu(),d.enqueueAndForget((()=>Np(u,S))),w.fromCache&&g.source==="server"?y.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new Op(p,T,{includeMetadataChanges:!0,qa:!0});return Cp(u,S)})(await yh(s),s.asyncQueue,t,n,r))),r.promise}function mA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const HE=new Map;const pA="firestore.googleapis.com",FE=!0;class GE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pA,this.ssl=FE}else this.host=t.host,this.ssl=t.ssl??FE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=K0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MC)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oI;switch(r.type){case"firstParty":return new hI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HE.get(n);r&&(at("ComponentProvider","Removing Datastore"),HE.delete(n),r.terminate())})(this),Promise.resolve()}}function nN(s,t,n,r={}){s=Bn(s,Hh);const l=ia(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;l&&(Gm(`https://${p}`),Qm("Firestore",!0)),u.host!==pA&&u.host!==p&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!as(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Ze.MOCK_USER;else{y=mT(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(S)}s._authCredentials=new lI(new r0(y,T))}}class dr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new dr(this.firestore,t,this._query)}}class _e{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(tu(n,_e._jsonSchema))return new _e(t,r||null,new dt(ee.fromString(n.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Oe("string",_e._jsonSchemaVersion),referencePath:Oe("string")};class er extends dr{constructor(t,n,r){super(t,n,xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new dt(t))}withConverter(t){return new er(this.firestore,t,this._path)}}function ur(s,t,...n){if(s=ve(s),a0("collection","path",t),s instanceof Hh){const r=ee.fromString(t,...n);return sE(r),new er(s,null,r)}{if(!(s instanceof _e||s instanceof er))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return sE(r),new er(s.firestore,null,r)}}function dn(s,t,...n){if(s=ve(s),arguments.length===1&&(t=ap.newId()),a0("doc","path",t),s instanceof Hh){const r=ee.fromString(t,...n);return iE(r),new _e(s,null,new dt(r))}{if(!(s instanceof _e||s instanceof er))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return iE(r),new _e(s.firestore,s instanceof er?s.converter:null,new dt(r))}}const QE="AsyncQueue";class KE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&at(QE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;at(QE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",YE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Rp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:YE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function YE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function XE(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class cr extends Hh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new KE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new KE(t),this._firestoreClient=void 0,await t}}}function iN(s,t){const n=typeof s=="object"?s:Xm(),r=typeof s=="string"?s:uh,l=Ih(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=hT("firestore");u&&nN(l,...u)}return l}function ru(s){if(s._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||sN(s),s._firestoreClient}function sN(s){const t=s._freezeSettings(),n=(function(l,u,d,p){return new CI(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,mA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Z2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ye.fromBase64String(t))}catch(n){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tu(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Oe("string",zn._jsonSchemaVersion),bytes:Oe("string")};class au{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bo{constructor(t){this._methodName=t}}class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(tu(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Oe("string",Vi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tu(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new rt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Oe("string",Mi._jsonSchemaVersion),vectorValues:Oe("object")};const rN=/^__.*__$/;class aN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new fr(t,this.data,this.fieldMask,n,this.fieldTransforms):new eu(t,this.data,n,this.fieldTransforms)}}class gA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new fr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function yA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Fh{constructor(t,n,r,l,u,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return _h(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(yA(this.Ac)&&rN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class oN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||jh(t)}Cc(t,n,r,l=!1){return new Fh({Ac:t,methodName:n,Dc:r,path:Ke.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gh(s){const t=s._freezeSettings(),n=jh(s._databaseId);return new oN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function _A(s,t,n,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,n,l);Pp("Data must be an object, but it was:",d,r);const p=AA(r,d);let g,y;if(u.merge)g=new bn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const w=Hm(t,S,n);if(!d.contains(w))throw new rt(Y.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);bA(T,w)||T.push(w)}g=new bn(T),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new aN(new fn(p),g,y)}class Qh extends bo{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qh}}function vA(s,t,n){return new Fh({Ac:3,Dc:t.settings.Dc,methodName:s._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Up extends bo{_toFieldTransform(t){return new dp(t.path,new Yl)}isEqual(t){return t instanceof Up}}class kp extends bo{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=vA(this,t,!0),r=this.vc.map((u=>oa(u,n))),l=new fo(r);return new dp(t.path,l)}isEqual(t){return t instanceof kp&&as(this.vc,t.vc)}}class Lp extends bo{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=vA(this,t,!0),r=this.vc.map((u=>oa(u,n))),l=new mo(r);return new dp(t.path,l)}isEqual(t){return t instanceof Lp&&as(this.vc,t.vc)}}function EA(s,t,n,r){const l=s.Cc(1,t,n);Pp("Data must be an object, but it was:",l,r);const u=[],d=fn.empty();hr(r,((g,y)=>{const T=zp(t,g,n);y=ve(y);const S=l.yc(T);if(y instanceof Qh)u.push(T);else{const w=oa(y,S);w!=null&&(u.push(T),d.set(T,w))}}));const p=new bn(u);return new gA(d,p,l.fieldTransforms)}function TA(s,t,n,r,l,u){const d=s.Cc(1,t,n),p=[Hm(t,r,n)],g=[l];if(u.length%2!=0)throw new rt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(Hm(t,u[w])),g.push(u[w+1]);const y=[],T=fn.empty();for(let w=p.length-1;w>=0;--w)if(!bA(y,p[w])){const P=p[w];let F=g[w];F=ve(F);const W=d.yc(P);if(F instanceof Qh)y.push(P);else{const Z=oa(F,W);Z!=null&&(y.push(P),T.set(P,Z))}}const S=new bn(y);return new gA(T,S,d.fieldTransforms)}function lN(s,t,n,r=!1){return oa(n,s.Cc(r?4:3,t))}function oa(s,t){if(SA(s=ve(s)))return Pp("Unsupported field value:",t,s),AA(s,t);if(s instanceof bo)return(function(r,l){if(!yA(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=oa(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:dh(l.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(l.serializer,u)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:j0(l.serializer,r._byteString)};if(r instanceof _e){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Mi)return(function(d,p){return{mapValue:{fields:{[p0]:{stringValue:g0},[ch]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return fp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Dh(r)}`)})(s,t)}function AA(s,t){const n={};return u0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hr(s,((r,l)=>{const u=oa(l,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function SA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Vi||s instanceof zn||s instanceof _e||s instanceof bo||s instanceof Mi)}function Pp(s,t,n){if(!SA(n)||!o0(n)){const r=Dh(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Hm(s,t,n){if((t=ve(t))instanceof au)return t._internalPath;if(typeof t=="string")return zp(s,t);throw _h("Field path arguments must be of type string or ",s,!1,void 0,n)}const uN=new RegExp("[~\\*/\\[\\]]");function zp(s,t,n){if(t.search(uN)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new au(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function _h(s,t,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new rt(Y.INVALID_ARGUMENT,p+s+g)}function bA(s,t){return s.some((n=>n.isEqual(t)))}class wA{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Kh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cN extends wA{data(){return super.data()}}function Kh(s,t){return typeof t=="string"?zp(s,t):t instanceof au?t._internalPath:t._delegate._internalPath}function RA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}class IA extends jp{}function yo(s,t,...n){let r=[];t instanceof jp&&r.push(t),r=r.concat(n),(function(u){const d=u.filter((g=>g instanceof Bp)).length,p=u.filter((g=>g instanceof Yh)).length;if(d>1||d>0&&p>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Yh extends IA{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Yh(t,n,r)}_apply(t){const n=this._parse(t);return NA(t._query,n),new dr(t.firestore,t.converter,Vm(t._query,n))}_parse(t){const n=Gh(t.firestore);return(function(u,d,p,g,y,T,S){let w;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){ZE(S,T);const F=[];for(const W of S)F.push($E(g,u,W));w={arrayValue:{values:F}}}else w=$E(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||ZE(S,T),w=lN(p,d,S,T==="in"||T==="not-in");return De.create(y,T,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function vh(s,t,n){const r=t,l=Kh("where",s);return Yh._create(l,r,n)}class Bp extends jp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Bp(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)NA(d,g),d=Vm(d,g)})(t._query,n),new dr(t.firestore,t.converter,Vm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qp extends IA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new qp(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(u,d)})(t._query,this._field,this._direction);return new dr(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Ao(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function CA(s,t="asc"){const n=t,r=Kh("orderBy",s);return qp._create(r,n)}function $E(s,t,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b0(t)&&n.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!dt.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fE(s,new dt(r))}if(n instanceof _e)return fE(s,n._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function ZE(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function NA(s,t){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class hN{convertValue(t,n="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return hr(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[ch].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new Vi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Mh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const n=sr(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ft(Q0(r),9688,{name:t});const l=new Gl(r.get(1),r.get(3)),u=new dt(r.popFirst(5));return l.isEqual(n)||cs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function DA(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class xl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $r extends wA{constructor(t,n,r,l,u,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Kh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$r._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:Oe("string",$r._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Wc extends $r{data(t={}){return super.data(t)}}class Zr{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Wc(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:fN(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Zr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function fN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}function Hp(s){s=Bn(s,_e);const t=Bn(s.firestore,cr);return tN(ru(t),s._key).then((n=>OA(t,s,n)))}Zr._jsonSchemaVersion="firestore/querySnapshot/1.0",Zr._jsonSchema={type:Oe("string",Zr._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Fp extends hN{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,n)}}function dN(s){s=Bn(s,dr);const t=Bn(s.firestore,cr),n=ru(t),r=new Fp(t);return RA(s._query),eN(n,s._query).then((l=>new Zr(t,r,s,l)))}function jn(s,t,n,...r){s=Bn(s,_e);const l=Bn(s.firestore,cr),u=Gh(l);let d;return d=typeof(t=ve(t))=="string"||t instanceof au?TA(u,"updateDoc",s._key,t,n,r):EA(u,"updateDoc",s._key,t),Qp(l,[d.toMutation(s._key,wn.exists(!0))])}function Gp(s,t){const n=Bn(s.firestore,cr),r=dn(s),l=DA(s.converter,t);return Qp(n,[_A(Gh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then((()=>r))}function fs(s,...t){s=ve(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||XE(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(XE(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,d,p;if(s instanceof _e)d=Bn(s.firestore,cr),p=xh(s._key.path),u={next:g=>{t[r]&&t[r](OA(d,s,g))},error:t[r+1],complete:t[r+2]};else{const g=Bn(s,dr);d=Bn(g.firestore,cr),p=g._query;const y=new Fp(d);u={next:T=>{t[r]&&t[r](new Zr(d,y,g,T))},error:t[r+1],complete:t[r+2]},RA(s._query)}return(function(y,T,S,w){const P=new xp(w),F=new Op(T,P,S);return y.asyncQueue.enqueueAndForget((async()=>Cp(await yh(y),F))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>Np(await yh(y),F)))}})(ru(d),p,l,u)}function Qp(s,t){return(function(r,l){const u=new rs;return r.asyncQueue.enqueueAndForget((async()=>q2(await W2(r),l,u))),u.promise})(ru(s),t)}function OA(s,t,n){const r=n.docs.get(t._key),l=new Fp(s);return new $r(s,l,t._key,r,new xl(n.hasPendingWrites,n.fromCache),t.converter)}class mN{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gh(t)}set(t,n,r){this._verifyNotCommitted();const l=fm(t,this._firestore),u=DA(l.converter,n,r),d=_A(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,wn.none())),this}update(t,n,r,...l){this._verifyNotCommitted();const u=fm(t,this._firestore);let d;return d=typeof(n=ve(n))=="string"||n instanceof au?TA(this._dataReader,"WriteBatch.update",u._key,n,r,l):EA(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(d.toMutation(u._key,wn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=fm(t,this._firestore);return this._mutations=this._mutations.concat(new mp(n._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fm(s,t){if((s=ve(s)).firestore!==t)throw new rt(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function ou(){return new Up("serverTimestamp")}function Eh(...s){return new kp("arrayUnion",s)}function Th(...s){return new Lp("arrayRemove",s)}function pN(s){return ru(s=Bn(s,cr)),new mN(s,(t=>Qp(s,t)))}(function(t,n=!0){(function(l){vo=l})(sa),Jr(new nr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new cr(new uI(r.getProvider("auth-internal")),new fI(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(y.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ii(Wv,tE,t),Ii(Wv,tE,"esm2020")})();const VA="firebasestorage.googleapis.com",gN="storageBucket",yN=120*1e3,_N=600*1e3;class Li extends ki{constructor(t,n,r=0){super(dm(t),`Firebase Storage: ${n} (${dm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Li.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ui;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ui||(Ui={}));function dm(s){return"storage/"+s}function vN(){const s="An unknown error occurred, please check the error payload for server response.";return new Li(Ui.UNKNOWN,s)}function EN(){return new Li(Ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TN(){return new Li(Ui.CANCELED,"User canceled the upload/download.")}function AN(s){return new Li(Ui.INVALID_URL,"Invalid URL '"+s+"'.")}function SN(s){return new Li(Ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function JE(s){return new Li(Ui.INVALID_ARGUMENT,s)}function MA(){return new Li(Ui.APP_DELETED,"The Firebase app was deleted.")}function bN(s){return new Li(Ui.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ni{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ni.makeFromUrl(t,n)}catch{return new ni(t,"")}if(r.path==="")return r;throw SN(t)}static makeFromUrl(t,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function u(ut){ut.path.charAt(ut.path.length-1)==="/"&&(ut.path_=ut.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),g={bucket:1,path:3};function y(ut){ut.path_=decodeURIComponent(ut.path)}const T="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",P=new RegExp(`^https?://${S}/${T}/b/${l}/o${w}`,"i"),F={bucket:1,path:3},W=n===VA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",st=new RegExp(`^https?://${W}/${l}/${Z}`,"i"),tt=[{regex:p,indices:g,postModify:u},{regex:P,indices:F,postModify:y},{regex:st,indices:{bucket:1,path:2},postModify:y}];for(let ut=0;ut<tt.length;ut++){const _t=tt[ut],Tt=_t.regex.exec(t);if(Tt){const D=Tt[_t.indices.bucket];let b=Tt[_t.indices.path];b||(b=""),r=new ni(D,b),_t.postModify(r);break}}if(r==null)throw AN(t);return r}}class wN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function RN(s,t,n){let r=1,l=null,u=null,d=!1,p=0;function g(){return p===2}let y=!1;function T(...Z){y||(y=!0,t.apply(null,Z))}function S(Z){l=setTimeout(()=>{l=null,s(P,g())},Z)}function w(){u&&clearTimeout(u)}function P(Z,...st){if(y){w();return}if(Z){w(),T.call(null,Z,...st);return}if(g()||d){w(),T.call(null,Z,...st);return}r<64&&(r*=2);let tt;p===1?(p=2,tt=0):tt=(r+Math.random())*1e3,S(tt)}let F=!1;function W(Z){F||(F=!0,w(),!y&&(l!==null?(Z||(p=2),clearTimeout(l),S(0)):Z||(p=1)))}return S(0),u=setTimeout(()=>{d=!0,W(!0)},n),W}function IN(s){s(!1)}function CN(s){return s!==void 0}function WE(s,t,n,r){if(r<t)throw JE(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw JE(`Invalid value for '${s}'. Expected ${n} or less.`)}function NN(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const l=t(r)+"="+t(s[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var Ah;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Ah||(Ah={}));function DN(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||l||u}class ON{constructor(t,n,r,l,u,d,p,g,y,T,S,w=!0,P=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=S,this.retry=w,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,W)=>{this.resolve_=F,this.reject_=W,this.start_()})}start_(){const t=(r,l)=>{if(l){r(!1,new Hc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Ah.NO_ERROR,g=u.getStatus();if(!p||DN(g,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Ah.ABORT;r(!1,new Hc(!1,null,T));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new Hc(y,u))})},n=(r,l)=>{const u=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());CN(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=vN();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(l.canceled){const g=this.appDelete_?MA():TN();d(g)}else{const g=EN();d(g)}};this.canceled_?n(!1,new Hc(!1,null,!0)):this.backoffId_=RN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&IN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function VN(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function MN(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function xN(s,t){t&&(s["X-Firebase-GMPID"]=t)}function UN(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function kN(s,t,n,r,l,u,d=!0,p=!1){const g=NN(s.urlParams),y=s.url+g,T=Object.assign({},s.headers);return xN(T,t),VN(T,n),MN(T,u),UN(T,r),new ON(y,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d,p)}function LN(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function PN(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}class Sh{constructor(t,n){this._service=t,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Sh(t,n)}get root(){const t=new ni(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PN(this._location.path)}get storage(){return this._service}get parent(){const t=LN(this._location.path);if(t===null)return null;const n=new ni(this._location.bucket,t);return new Sh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw bN(t)}}function tT(s,t){const n=t?.[gN];return n==null?null:ni.makeFromBucketSpec(n,s)}function zN(s,t,n,r={}){s.host=`${t}:${n}`;const l=ia(t);l&&(Gm(`https://${s.host}/b`),Qm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:mT(u,s.app.options.projectId))}class jN{constructor(t,n,r,l,u,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=VA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yN,this._maxUploadRetryTime=_N,this._requests=new Set,l!=null?this._bucket=ni.makeFromBucketSpec(l,this._host):this._bucket=tT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,t):this._bucket=tT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){WE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){WE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Sh(this,t)}_makeRequest(t,n,r,l,u=!0){if(this._deleted)return new wN(MA());{const d=kN(t,this._appId,r,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,l).getPromise()}}const eT="@firebase/storage",nT="0.14.0";const xA="storage";function BN(s=Xm(),t){s=ve(s);const r=Ih(s,xA).getImmediate({identifier:t}),l=hT("storage");return l&&qN(r,...l),r}function qN(s,t,n,r={}){zN(s,t,n,r)}function HN(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new jN(n,r,l,t,sa)}function FN(){Jr(new nr(xA,HN,"PUBLIC").setMultipleInstances(!0)),Ii(eT,nT,""),Ii(eT,nT,"esm2020")}FN();const GN={apiKey:"AIzaSyDcG5mGmtLBlP8bzkmTzxM2GAczgxMTcEk",authDomain:"renchat-f65bf.firebaseapp.com",projectId:"renchat-f65bf",storageBucket:"renchat-f65bf.firebasestorage.app",messagingSenderId:"1066827602621",appId:"1:1066827602621:web:4a627a25b0988b980535d4"},Kp=yT(GN),mn=rI(Kp),he=iN(Kp);BN(Kp);var UA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iT=Yr.createContext&&Yr.createContext(UA),QN=["attr","size","title"];function KN(s,t){if(s==null)return{};var n=YN(s,t),r,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(l=0;l<u.length;l++)r=u[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}function YN(s,t){if(s==null)return{};var n={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;n[r]=s[r]}return n}function bh(){return bh=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},bh.apply(this,arguments)}function sT(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,r)}return n}function wh(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(r){XN(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function XN(s,t,n){return t=$N(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function $N(s){var t=ZN(s,"string");return typeof t=="symbol"?t:t+""}function ZN(s,t){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var r=n.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function kA(s){return s&&s.map((t,n)=>Yr.createElement(t.tag,wh({key:n},t.attr),kA(t.child)))}function mr(s){return t=>Yr.createElement(JN,bh({attr:wh({},s.attr)},t),kA(s.child))}function JN(s){var t=n=>{var{attr:r,size:l,title:u}=s,d=KN(s,QN),p=l||n.size||"1em",g;return n.className&&(g=n.className),s.className&&(g=(g?g+" ":"")+s.className),Yr.createElement("svg",bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,d,{className:g,style:wh(wh({color:s.color||n.color},n.style),s.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&Yr.createElement("title",null,u),s.children)};return iT!==void 0?Yr.createElement(iT.Consumer,null,n=>t(n)):t(UA)}function na(s){return mr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 11H6.414l5.293-5.293-1.414-1.414L2.586 12l7.707 7.707 1.414-1.414L6.414 13H21z"},child:[]}]})(s)}function WN(s){return mr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 13.586V10c0-3.217-2.185-5.927-5.145-6.742C13.562 2.52 12.846 2 12 2s-1.562.52-1.855 1.258C7.185 4.074 5 6.783 5 10v3.586l-1.707 1.707A.996.996 0 0 0 3 16v2a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-2a.996.996 0 0 0-.293-.707L19 13.586zM19 17H5v-.586l1.707-1.707A.996.996 0 0 0 7 14v-4c0-2.757 2.243-5 5-5s5 2.243 5 5v4c0 .266.105.52.293.707L19 16.414V17zm-7 5a2.98 2.98 0 0 0 2.818-2H9.182A2.98 2.98 0 0 0 12 22z"},child:[]}]})(s)}function tD(s){return mr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"},child:[]}]})(s)}function eD(s){return mr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 22h14a2 2 0 0 0 2-2v-9a1 1 0 0 0-.29-.71l-8-8a1 1 0 0 0-1.41 0l-8 8A1 1 0 0 0 3 11v9a2 2 0 0 0 2 2zm5-2v-5h4v5zm-5-8.59 7-7 7 7V20h-3v-5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v5H5z"},child:[]}]})(s)}function nD(s){return mr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"},child:[]}]})(s)}function iD(s){return mr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.426 11.095-17-8A.999.999 0 0 0 3.03 4.242L4.969 12 3.03 19.758a.998.998 0 0 0 1.396 1.147l17-8a1 1 0 0 0 0-1.81zM5.481 18.197l.839-3.357L12 12 6.32 9.16l-.839-3.357L18.651 12l-13.17 6.197z"},child:[]}]})(s)}function sD(s){return mr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"},child:[]}]})(s)}function LA(s){return mr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8.707 19.707 18 10.414 13.586 6l-9.293 9.293a1.003 1.003 0 0 0-.263.464L3 21l5.242-1.03c.176-.044.337-.135.465-.263zM21 7.414a2 2 0 0 0 0-2.828L19.414 3a2 2 0 0 0-2.828 0L15 4.586 19.414 9 21 7.414z"},child:[]}]})(s)}const mm=({icon:s,text:t,hasArrow:n=!0,onClick:r})=>N.jsxs("button",{className:"setting-item",onClick:r,children:[N.jsx("span",{className:"setting-icon",children:s}),N.jsx("span",{className:"setting-text",children:t}),n&&N.jsx("span",{className:"setting-arrow",children:""})]}),pm=({label:s,value:t,onChange:n,disabled:r=!1})=>N.jsxs("div",{className:"form-group",children:[N.jsx("label",{className:"form-label",children:s}),N.jsx("input",{type:"text",className:"form-input",value:t,onChange:n,disabled:r})]});function rD({user:s,onBack:t,onSave:n}){const[r,l]=pt.useState(s.name),[u,d]=pt.useState(s.surname),[p,g]=pt.useState(s.username),[y,T]=pt.useState(s.bio||""),[S,w]=pt.useState(!1),[P,F]=pt.useState("");let W=!1,Z="Kullanc adnz 2 haftada bir deitirebilirsiniz.";if(s.usernameLastChanged){const ut=s.usernameLastChanged.toDate().getTime(),_t=(Date.now()-ut)/864e5;_t<14&&(W=!0,Z=`Kullanc adnz deitirmek iin ${Math.ceil(14-_t)} gn beklemelisiniz.`)}const st=async()=>{if(!S){w(!0),F("");try{const tt=dn(he,"users",s.uid),ut={name:r,surname:u,bio:y};p!==s.username&&!W&&(ut.username=p,ut.usernameLastChanged=ou()),await jn(tt,ut),w(!1),n()}catch(tt){F("Kaydederken bir hata olutu: "+tt.message),w(!1)}}},ot=()=>{alert("E-posta deiimi bir sonraki admda eklenecek.")};return N.jsxs("div",{className:"edit-profile-form",children:[N.jsxs("header",{className:"header chat-header",children:[N.jsx("button",{className:"back-button",onClick:t,children:N.jsx(na,{})}),N.jsx("div",{className:"chat-header-info",children:N.jsx("h2",{children:"Profili Dzenle"})})]}),N.jsxs("div",{className:"form-content",children:[N.jsx(pm,{label:"sim",value:r,onChange:tt=>l(tt.target.value)}),N.jsx(pm,{label:"Soyisim",value:u,onChange:tt=>d(tt.target.value)}),N.jsx(pm,{label:"Kullanc Ad",value:p,onChange:tt=>g(tt.target.value),disabled:W}),N.jsx("p",{className:`form-help-text ${W?"disabled":""}`,children:Z}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{className:"form-label",children:"Bio"}),N.jsx("textarea",{className:"form-input",rows:"4",value:y,onChange:tt=>T(tt.target.value)})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{className:"form-label",children:"E-posta"}),N.jsx("input",{type:"text",className:"form-input",value:s.email,disabled:!0}),N.jsx("button",{className:"email-change-button",onClick:ot,children:"E-postay Deitir"})]}),P&&N.jsx("p",{className:"form-error-text",children:P}),N.jsx("button",{className:"auth-button save-button",onClick:st,disabled:S,children:S?"Kaydediliyor...":"Deiiklikleri Kaydet"})]})]})}function aD({userId:s,onBack:t,onMessageClick:n}){const[r,l]=pt.useState(null),[u,d]=pt.useState(!0),[p,g]=pt.useState(!1),[y,T]=pt.useState(!1),[S,w]=pt.useState(!1),P=mn.currentUser,F=s||P.uid;pt.useEffect(()=>{const ot=dn(he,"users",F),tt=fs(ot,_t=>{_t.exists()?l(_t.data()):console.log("Kullanc bulunamad!"),d(!1)});g(F===P.uid);let ut;if(F!==P.uid){const _t=dn(he,"users",P.uid);ut=fs(_t,Tt=>{if(Tt.exists()){const D=Tt.data();T(D.following.includes(F))}})}return()=>{tt(),ut&&ut()}},[F,P.uid]);const W=async()=>{const ot=dn(he,"users",P.uid),tt=dn(he,"users",F);try{if(y)await jn(ot,{following:Th(F)}),await jn(tt,{followers:Th(P.uid)});else{const _t=(await Hp(ot)).data();await jn(ot,{following:Eh(F)}),await jn(tt,{followers:Eh(P.uid)}),await Gp(ur(he,"users",F,"notifications"),{type:"follow",seen:!1,timestamp:ou(),fromUser:{uid:P.uid,username:_t.username,profilePicUrl:_t.profilePicUrl}})}}catch(ut){console.error("Takip ilemi hatas:",ut)}},Z=async()=>{if(!p)return;const ot=mn.currentUser,tt=prompt("Yeni profil resmi URL'si:",r.profilePicUrl);if(tt&&tt!==r.profilePicUrl)try{const ut=dn(he,"users",ot.uid);await jn(ut,{profilePicUrl:tt})}catch{alert("Hata: URL gncellenemedi.")}},st=async()=>{await BT(mn)};return u?N.jsx("div",{className:"placeholder-screen",children:N.jsx("h1",{children:"Profil Ykleniyor..."})}):r?S?N.jsx(rD,{user:r,onBack:()=>w(!1),onSave:()=>{w(!1)}}):N.jsxs("div",{className:"profile-screen-container",children:[N.jsxs("header",{className:"profile-header",children:[!p&&N.jsx("button",{className:"back-button",onClick:t,style:{position:"absolute",top:"10px",left:"10px"},children:N.jsx(na,{})}),N.jsxs("div",{className:"profile-pic-wrapper",onClick:Z,children:[N.jsx("img",{src:r.profilePicUrl,alt:"Profil",className:"profile-pic"}),p&&N.jsx("div",{className:"profile-pic-overlay",children:N.jsx(LA,{})})]}),N.jsx("h2",{children:r.name}),N.jsxs("p",{className:"username",children:["@",r.username]})]}),N.jsxs("div",{className:"profile-stats",children:[N.jsxs("div",{className:"stat-item",children:[N.jsx("strong",{children:"0"}),N.jsx("span",{children:"Gnderi"})]}),N.jsxs("div",{className:"stat-item",children:[N.jsx("strong",{children:r.followers?r.followers.length:0}),N.jsx("span",{children:"Takipi"})]}),N.jsxs("div",{className:"stat-item",children:[N.jsx("strong",{children:r.following?r.following.length:0}),N.jsx("span",{children:"Takip"})]})]}),N.jsx("div",{className:"profile-bio",children:N.jsx("p",{children:r.bio||"Henz bir biyografi yok."})}),p?N.jsxs("div",{className:"settings-menu",children:[N.jsx(mm,{icon:"",text:"Profili Dzenle",onClick:()=>w(!0)}),N.jsx(mm,{icon:"",text:"Ayarlar"}),N.jsx(mm,{icon:"",text:"k Yap",hasArrow:!1,onClick:st})]}):N.jsxs("div",{className:"profile-actions",children:[N.jsx("button",{className:`profile-action-button ${y?"secondary":"primary"}`,onClick:W,children:y?"Takipten k":"Takip Et"}),N.jsx("button",{className:"profile-action-button secondary",onClick:()=>n(r),children:"Mesaj Gnder"})]})]}):N.jsx("div",{className:"placeholder-screen",children:N.jsx("h1",{children:"Kullanc bulunamad."})})}function rT(){return N.jsxs("div",{className:"home-screen-container",children:[N.jsx("header",{className:"header",children:N.jsx("img",{src:"/logo.png",alt:"RenChat Logosu",className:"home-logo-img"})}),N.jsxs("div",{className:"feed-container placeholder-screen",children:[N.jsx("h2",{children:"Ak"}),N.jsx("p",{children:"Takip ettiiniz kiilerin gnderileri yaknda burada olacak."})]})]})}const gm=({icon:s,text:t,hasArrow:n=!0,onClick:r})=>N.jsxs("button",{className:"setting-item",onClick:r,children:[N.jsx("span",{className:"setting-icon",children:s}),N.jsx("span",{className:"setting-text",children:t}),n&&N.jsx("span",{className:"setting-arrow",children:""})]});function aT({userId:s,onBack:t,onMessageClick:n,onEditProfileClick:r}){const[l,u]=pt.useState(null),[d,p]=pt.useState(!0),[g,y]=pt.useState(!1),[T,S]=pt.useState(!1),w=mn.currentUser,P=s||w.uid;pt.useEffect(()=>{const st=dn(he,"users",P),ot=fs(st,ut=>{ut.exists()?u(ut.data()):console.log("Kullanc bulunamad!"),p(!1)});y(P===w.uid);let tt;if(P!==w.uid){const ut=dn(he,"users",w.uid);tt=fs(ut,_t=>{if(_t.exists()){const Tt=_t.data();S(Tt.following.includes(P))}})}return()=>{ot(),tt&&tt()}},[P,w.uid]);const F=async()=>{const st=dn(he,"users",w.uid),ot=dn(he,"users",P);try{if(T)await jn(st,{following:Th(P)}),await jn(ot,{followers:Th(w.uid)});else{const ut=(await Hp(st)).data();await jn(st,{following:Eh(P)}),await jn(ot,{followers:Eh(w.uid)}),await Gp(ur(he,"users",P,"notifications"),{type:"follow",seen:!1,timestamp:ou(),fromUser:{uid:w.uid,username:ut.username,profilePicUrl:ut.profilePicUrl}})}}catch(tt){console.error("Takip ilemi hatas:",tt)}},W=async()=>{if(!g)return;const st=mn.currentUser,ot=prompt("Yeni profil resmi URL'si:",l.profilePicUrl);if(ot&&ot!==l.profilePicUrl)try{const tt=dn(he,"users",st.uid);await jn(tt,{profilePicUrl:ot})}catch{alert("Hata: URL gncellenemedi.")}},Z=async()=>{await BT(mn)};return d?N.jsx("div",{className:"placeholder-screen",children:N.jsx("h1",{children:"Profil Ykleniyor..."})}):l?N.jsxs("div",{className:"profile-screen-container",children:[N.jsxs("header",{className:"profile-header new-layout",children:[!g&&N.jsx("button",{className:"back-button",onClick:t,style:{position:"absolute",top:"10px",left:"10px"},children:N.jsx(na,{})}),N.jsxs("p",{className:"username top-username",children:["@",l?l.username:"kullaniciadi"]}),N.jsxs("div",{className:"profile-info-row",children:[N.jsxs("div",{className:"profile-pic-wrapper",onClick:W,children:[N.jsx("img",{src:l.profilePicUrl,alt:"Profil",className:"profile-pic"}),g&&N.jsx("div",{className:"profile-pic-overlay",children:N.jsx(LA,{})})]}),N.jsxs("div",{className:"profile-stats-row",children:[N.jsxs("div",{className:"stat-item",children:[N.jsx("strong",{children:"0"}),N.jsx("span",{children:"Gnderi"})]}),N.jsxs("div",{className:"stat-item",children:[N.jsx("strong",{children:l.followers?l.followers.length:0}),N.jsx("span",{children:"Takipi"})]}),N.jsxs("div",{className:"stat-item",children:[N.jsx("strong",{children:l.following?l.following.length:0}),N.jsx("span",{children:"Takip"})]})]})]}),N.jsx("h2",{className:"bottom-name",children:l?`${l.name} ${l.surname}`:"sim Yok"}),N.jsx("p",{className:"bottom-bio-text",children:l.bio||"Henz bir biyografi yok."})]}),g?N.jsxs("div",{className:"settings-menu",children:[N.jsx(gm,{icon:"",text:"Profili Dzenle",onClick:r}),N.jsx(gm,{icon:"",text:"Ayarlar"}),N.jsx(gm,{icon:"",text:"k Yap",hasArrow:!1,onClick:Z})]}):N.jsxs("div",{className:"profile-actions",children:[N.jsx("button",{className:`profile-action-button ${T?"secondary":"primary"}`,onClick:F,children:T?"Takipten k":"Takip Et"}),N.jsx("button",{className:"profile-action-button secondary",onClick:()=>n(l),children:"Mesaj Gnder"})]})]}):N.jsx("div",{className:"placeholder-screen",children:N.jsx("h1",{children:"Kullanc bulunamad."})})}const oD=({user:s,onClick:t})=>N.jsxs("button",{className:"chat-list-item",onClick:t,children:[N.jsx("img",{src:s.profilePicUrl,alt:s.username,className:"chat-list-pic"}),N.jsxs("div",{className:"chat-list-details",children:[N.jsx("span",{className:"chat-list-name",children:s.name}),N.jsxs("span",{className:"chat-list-message",children:["@",s.username]})]})]});function lD({onUserClick:s}){const[t,n]=pt.useState([]),[r,l]=pt.useState(!0);return pt.useEffect(()=>{const u=mn.currentUser;if(!u)return;const d=ur(he,"users"),p=yo(d),g=fs(p,y=>{const T=[];y.forEach(w=>T.push(w.data()));const S=T.filter(w=>w.uid!==u.uid);n(S),l(!1)},y=>console.error("Kullanclar ekerken hata: ",y));return()=>g()},[]),N.jsxs("div",{className:"chat-list-container",children:[N.jsx("header",{className:"header",children:N.jsx("h1",{children:"Kullanclar"})}),N.jsx("div",{className:"chat-search-bar",children:N.jsx("input",{type:"text",placeholder:"Kullanclarda ara..."})}),N.jsxs("div",{className:"conversations-wrapper",children:[r&&N.jsx("div",{className:"placeholder-screen",children:"Ykleniyor..."}),!r&&t.map(u=>N.jsx(oD,{user:u,onClick:()=>s(u)},u.uid)),!r&&t.length===0&&N.jsx("div",{className:"placeholder-screen",children:N.jsx("p",{children:"Sohbet edecek baka kullanc bulunamad."})})]})]})}function uD({user:s,onBack:t}){const[n,r]=pt.useState(""),[l,u]=pt.useState([]),d=mn.currentUser,p=d.uid>s.uid?`${d.uid}_${s.uid}`:`${s.uid}_${d.uid}`,g=ur(he,"chats",p,"messages");pt.useEffect(()=>{const T=yo(g,CA("timestamp","asc")),S=fs(T,w=>{const P=[];w.forEach(F=>P.push({id:F.id,...F.data()})),u(P)});return()=>S()},[p]);const y=async T=>{T.preventDefault();const S=n.trim();S!==""&&(r(""),await Gp(g,{text:S,senderId:d.uid,timestamp:ou()}))};return N.jsxs("div",{className:"app-container",children:[N.jsxs("header",{className:"header chat-header",children:[N.jsx("button",{className:"back-button",onClick:t,children:N.jsx(tD,{})}),N.jsx("img",{src:s.profilePicUrl,alt:s.name,className:"chat-header-pic"}),N.jsxs("div",{className:"chat-header-info",children:[N.jsx("h2",{children:s.name}),N.jsxs("span",{children:["@",s.username]})]})]}),N.jsx("div",{className:"messages-list",children:l.map(T=>{const S=T.senderId===d.uid;return N.jsx("div",{className:`message-row ${S?"current-user":"other-user"}`,children:N.jsx("div",{className:`message-bubble ${S?"current-user":"other-user"}`,children:T.text})},T.id)})}),N.jsxs("form",{className:"message-input-area",onSubmit:y,children:[N.jsx("input",{type:"text",className:"message-input",placeholder:"Mesajnz yazn...",value:n,onChange:T=>r(T.target.value)}),N.jsx("button",{type:"submit",className:"send-button",disabled:n.trim()==="",title:"Gnder",children:""})]})]})}const cD=({user:s,onClick:t})=>N.jsxs("button",{className:"chat-list-item",onClick:t,children:[N.jsx("img",{src:s.profilePicUrl,alt:s.username,className:"chat-list-pic"}),N.jsxs("div",{className:"chat-list-details",children:[N.jsx("span",{className:"chat-list-name",children:s.name}),N.jsxs("span",{className:"chat-list-message",children:["@",s.username]})]})]});function hD({onBack:s,onUserClick:t}){const[n,r]=pt.useState(""),[l,u]=pt.useState([]),[d,p]=pt.useState(!1);return pt.useEffect(()=>{if(n.trim()===""){u([]);return}p(!0);const g=mn.currentUser,y=yo(ur(he,"users"),vh("username",">=",n.toLowerCase()),vh("username","<=",n.toLowerCase()+"")),T=fs(y,S=>{const w=[];S.forEach(P=>{P.data().uid!==g.uid&&w.push(P.data())}),u(w),p(!1)});return()=>T()},[n]),N.jsxs("div",{className:"search-screen-container",children:[N.jsxs("header",{className:"header chat-header",children:[" ",N.jsx("button",{className:"back-button",onClick:s,children:N.jsx(na,{})}),N.jsx("div",{className:"chat-header-info",children:N.jsx("h2",{children:"Kullanc Ara"})})]}),N.jsx("div",{className:"search-bar-wrapper",children:N.jsx("input",{type:"text",placeholder:"Kullanc ad ile ara...",className:"search-input-field",value:n,onChange:g=>r(g.target.value)})}),N.jsxs("div",{className:"search-results",children:[d&&N.jsx("p",{className:"placeholder-screen",children:"Aranyor..."}),!d&&l.map(g=>N.jsx(cD,{user:g,onClick:()=>t(g)},g.uid)),!d&&l.length===0&&n.trim()!==""&&N.jsx("p",{className:"placeholder-screen",children:"Sonu bulunamad."})]})]})}const fD=({notification:s})=>{const t=s.timestamp?s.timestamp.toDate().toLocaleTimeString():"...";return N.jsxs("div",{className:"notification-item",children:[N.jsx("img",{src:s.fromUser.profilePicUrl,alt:s.fromUser.username,className:"chat-list-pic"}),N.jsxs("div",{className:"notification-details",children:[N.jsxs("strong",{children:["@",s.fromUser.username]}),s.type==="follow"&&" sizi takip etmeye balad."]}),N.jsx("span",{className:"notification-time",children:t})]})};function dD({onBack:s}){const[t,n]=pt.useState([]),[r,l]=pt.useState(!0);return pt.useEffect(()=>{const u=mn.currentUser;if(!u)return;const d=yo(ur(he,"users",u.uid,"notifications"),CA("timestamp","desc")),p=fs(d,g=>{const y=[];g.forEach(T=>y.push({id:T.id,...T.data()})),n(y),l(!1)});return()=>p()},[]),N.jsxs("div",{className:"notifications-screen-container",children:[N.jsxs("header",{className:"header chat-header",children:[N.jsx("button",{className:"back-button",onClick:s,children:N.jsx(na,{})}),N.jsx("div",{className:"chat-header-info",children:N.jsx("h2",{children:"Bildirimler"})})]}),N.jsxs("div",{className:"notifications-list",children:[r&&N.jsx("p",{className:"placeholder-screen",children:"Ykleniyor..."}),!r&&t.length===0&&N.jsx("p",{className:"placeholder-screen",children:"Henz bildiriminiz yok."}),!r&&t.map(u=>N.jsx(fD,{notification:u},u.id))]})]})}const ym=({label:s,value:t,onChange:n,disabled:r=!1})=>N.jsxs("div",{className:"form-group",children:[N.jsx("label",{className:"form-label",children:s}),N.jsx("input",{type:"text",className:"form-input",value:t,onChange:n,disabled:r})]});function mD({onBack:s}){const[t,n]=pt.useState(null),[r,l]=pt.useState(!0),[u,d]=pt.useState(""),[p,g]=pt.useState(""),[y,T]=pt.useState(""),[S,w]=pt.useState(""),[P,F]=pt.useState(!1),[W,Z]=pt.useState(""),[st,ot]=pt.useState(!1),[tt,ut]=pt.useState("Kullanc adnz 2 haftada bir deitirebilirsiniz."),_t=mn.currentUser;pt.useEffect(()=>{(async()=>{const R=dn(he,"users",_t.uid),x=await Hp(R);if(x.exists()){const O=x.data();if(n(O),d(O.name),g(O.surname),T(O.username),w(O.bio||""),O.usernameLastChanged){const I=O.usernameLastChanged.toDate().getTime(),Wt=(Date.now()-I)/864e5;if(Wt<14){ot(!0);const fe=Math.ceil(14-Wt);ut(`Kullanc adnz deitirmek iin ${fe} gn beklemelisiniz.`)}}}l(!1)})()},[_t.uid]);const Tt=async()=>{if(!P){F(!0),Z("");try{const b=dn(he,"users",t.uid),R={name:u,surname:p,bio:S};y!==t.username&&!st&&(R.username=y,R.usernameLastChanged=ou()),await jn(b,R),F(!1),s()}catch(b){Z("Kaydederken bir hata olutu: "+b.message),F(!1)}}},D=()=>{alert("E-posta deiimi bir sonraki admda eklenecek.")};return r?N.jsxs("div",{className:"edit-profile-form",children:[N.jsxs("header",{className:"header chat-header",children:[N.jsx("button",{className:"back-button",onClick:s,children:N.jsx(na,{})}),N.jsx("div",{className:"chat-header-info",children:N.jsx("h2",{children:"Profili Dzenle"})})]}),N.jsx("div",{className:"placeholder-screen",children:N.jsx("h1",{children:"Ykleniyor..."})})]}):N.jsxs("div",{className:"edit-profile-form",children:[N.jsxs("header",{className:"header chat-header",children:[N.jsx("button",{className:"back-button",onClick:s,children:N.jsx(na,{})}),N.jsx("div",{className:"chat-header-info",children:N.jsx("h2",{children:"Profili Dzenle"})})]}),N.jsxs("div",{className:"form-content",children:[N.jsx(ym,{label:"sim",value:u,onChange:b=>d(b.target.value)}),N.jsx(ym,{label:"Soyisim",value:p,onChange:b=>g(b.target.value)}),N.jsx(ym,{label:"Kullanc Ad",value:y,onChange:b=>T(b.target.value),disabled:st}),N.jsx("p",{className:`form-help-text ${st?"disabled":""}`,children:tt}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{className:"form-label",children:"Bio"}),N.jsx("textarea",{className:"form-input",rows:"4",value:S,onChange:b=>w(b.target.value)})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{className:"form-label",children:"E-posta"}),N.jsx("input",{type:"text",className:"form-input",value:t.email,disabled:!0}),N.jsx("button",{className:"email-change-button",onClick:D,children:"E-postay Deitir"})]}),W&&N.jsx("p",{className:"form-error-text",children:W}),N.jsx("button",{className:"auth-button save-button",onClick:Tt,disabled:P,children:P?"Kaydediliyor...":"Deiiklikleri Kaydet"})]})]})}function pD({activeTab:s,onTabClick:t,hasNewNotifications:n}){const r=[{id:"home",icon:N.jsx(eD,{})},{id:"search",icon:N.jsx(nD,{})},{id:"chat",icon:N.jsx(iD,{})},{id:"notifications",icon:N.jsx(WN,{})},{id:"profile",icon:N.jsx(sD,{})}];return N.jsx("nav",{className:"bottom-nav-bar",children:r.map(l=>N.jsx("button",{className:`nav-button ${l.id===s?"active":""} ${l.id==="chat"?"middle":""}`,onClick:()=>t(l.id),children:N.jsxs("span",{className:"nav-button-icon",children:[l.icon,l.id==="notifications"&&n&&N.jsx("div",{className:"notification-badge"})]})},l.id))})}function gD(){const[s,t]=pt.useState("home"),[n,r]=pt.useState(null),[l,u]=pt.useState(null),[d,p]=pt.useState(!1),[g,y]=pt.useState(!1);pt.useEffect(()=>{const F=mn.currentUser;if(!F)return;const W=yo(ur(he,"users",F.uid,"notifications"),vh("seen","==",!1)),Z=fs(W,st=>{p(!st.empty)});return()=>Z()},[]);const T=async()=>{p(!1);const F=mn.currentUser,W=yo(ur(he,"users",F.uid,"notifications"),vh("seen","==",!1)),Z=await dN(W);if(Z.empty)return;const st=pN(he);Z.forEach(ot=>{st.update(ot.ref,{seen:!0})}),await st.commit()},S=F=>{u(null),r(F),y(!1)},w=F=>{t(F),r(null),u(null),y(!1),F==="notifications"&&T()},P=()=>{if(n)return N.jsx(uD,{user:n,onBack:()=>r(null)});if(g)return N.jsx(mD,{onBack:()=>y(!1)});if(l)return N.jsx(aT,{userId:l,onBack:()=>u(null),onMessageClick:S,onEditProfileClick:()=>y(!0)});switch(s){case"home":return N.jsx(rT,{});case"search":return N.jsx(hD,{onBack:()=>t("home"),onUserClick:F=>u(F.uid)});case"chat":return N.jsx(lD,{onUserClick:F=>u(F.uid)});case"notifications":return N.jsx(dD,{onBack:()=>t("home")});case"profile":return N.jsx(aT,{onEditProfileClick:()=>y(!0)});default:return N.jsx(rT,{})}};return N.jsx("div",{className:"auth-page-container",children:N.jsxs("div",{className:"main-app-shell",children:[N.jsx("div",{className:"content-area",children:P()}),N.jsx(pD,{activeTab:s,onTabClick:w,hasNewNotifications:d})]})})}function yD(){const[s,t]=pt.useState(null),[n,r]=pt.useState(!0);return pt.useEffect(()=>{const l=Yw(mn,u=>{t(u),r(!1)});return()=>l()},[]),n?N.jsx("div",{className:"auth-page-container",children:N.jsx("img",{img:!0,src:"/loader.gif",alt:"Ykleniyor...",className:"loading-gif"})}):s?N.jsx(gD,{}):N.jsx(aD,{})}b1.createRoot(document.getElementById("root")).render(N.jsx(pt.StrictMode,{children:N.jsx(yD,{})}));
